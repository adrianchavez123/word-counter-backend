(this["webpackJsonptelegram-teacher-dashboard"]=this["webpackJsonptelegram-teacher-dashboard"]||[]).push([[0],{322:function(e,t,a){},467:function(e,t,a){},468:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(30),r=a.n(s),i=(a(322),a(33)),o=a(38),d=a(8),l=a(16),u=a(67),j=a(255),p=Object(j.a)({apiKey:"AIzaSyAof1NlmpWos6aeQP9kKdAuSU3VoWKS9bE",authDomain:"telegram-counter-word-auth.firebaseapp.com",projectId:"telegram-counter-word-auth",storageBucket:"telegram-counter-word-auth.appspot.com",messagingSenderId:"157829608484",appId:"1:157829608484:web:06b1ab4ad77eca6f49d4b1"}),b=Object(u.b)(p),h=a(1),x=c.a.createContext();function m(){return Object(n.useContext)(x)}function O(e){var t=e.children,a=Object(n.useState)(),c=Object(l.a)(a,2),s=c[0],r=c[1],i=Object(n.useState)(!1),o=Object(l.a)(i,2),j=o[0],p=o[1];Object(n.useEffect)((function(){return Object(u.c)(b,(function(e){r(e),p(!1)}))}),[]);var m={currentUser:s,signup:function(e,t){return Object(u.a)(b,e,t)},login:function(e,t){return Object(u.e)(b,e,t)},logout:function(){return Object(u.f)(b)},resetPassword:function(e){return Object(u.d)(b,e)},updateEmailAddress:function(e){return Object(u.g)(b.currentUser,e)},updateMyPassword:function(e){return Object(u.h)(b.currentUser,e)},updateMyProfile:function(e){return Object(u.i)(b.currentUser,Object(d.a)({},e))}};return Object(h.jsx)(x.Provider,{value:m,children:!j&&t})}var g=a(2),f=a.n(g),y=a(4),v=a(9),E=a(541),S=a(556),T=a(548),_=a(542),C=a(538),w=a(520),N=a(145),A=a(540),D=a(523),R=a(543),G=a(539),I=a(287),k=a.n(I),M=a(288),P=a.n(M),F=a(470),U=a(510),L=a(511),z=a(512),B=a(256),W=a.n(B),Y=a(257),V=a.n(Y),J=a(258),q=a.n(J),X=a(259),H=a.n(X),K=Object(h.jsxs)("div",{children:[Object(h.jsxs)(F.a,{button:!0,children:[Object(h.jsx)(U.a,{children:Object(h.jsx)(W.a,{})}),Object(h.jsx)(i.b,{to:"/",children:Object(h.jsx)(L.a,{primary:"Inicio"})})]}),Object(h.jsxs)(F.a,{button:!0,children:[Object(h.jsx)(U.a,{children:Object(h.jsx)(V.a,{})}),Object(h.jsx)(i.b,{to:"/alumnos",children:Object(h.jsx)(L.a,{primary:"Alumnos"})})]}),Object(h.jsxs)(F.a,{button:!0,children:[Object(h.jsx)(U.a,{children:Object(h.jsx)(q.a,{})}),Object(h.jsx)(i.b,{to:"/ejercicios",children:Object(h.jsx)(L.a,{primary:"Ejercicios"})})]})]}),Q=Object(h.jsxs)("div",{children:[Object(h.jsx)(z.a,{inset:!0,children:"Reportes"}),Object(h.jsxs)(F.a,{button:!0,children:[Object(h.jsx)(U.a,{children:Object(h.jsx)(H.a,{})}),Object(h.jsx)(i.b,{to:"/tareas",children:Object(h.jsx)(L.a,{primary:"Tareas"})})]})]}),Z=a(296),$=a(555);function ee(e){return Object(h.jsx)(N.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:e.children})}var te=ee,ae=a(513),ne=a(514),ce=a(518),se=a(275),re=a(276),ie=a(144),oe=a(141),de=a(292);function le(e){var t=e.rows;return Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(te,{children:"Comparaci\xf3n palabras en lecturas con promedio palabras detectadas en audios"}),Object(h.jsx)(ae.a,{width:"100%",height:"100%",children:Object(h.jsxs)(ne.a,{width:500,height:300,data:t,margin:{top:5,right:30,left:20,bottom:5},children:[Object(h.jsx)(ce.a,{strokeDasharray:"3 3"}),Object(h.jsx)(se.a,{dataKey:"name"}),Object(h.jsx)(re.a,{}),Object(h.jsx)(ie.a,{}),Object(h.jsx)(oe.a,{}),Object(h.jsx)(de.a,{type:"monotone",dataKey:"cantidad_palabras_detectadas",stroke:"#8884d8",activeDot:{r:8}}),Object(h.jsx)(de.a,{type:"monotone",dataKey:"cantidad_palabras_en_lectura",stroke:"#82ca9d"})]})})]})}var ue=a(22),je=a(536),pe=a(554),be=a(524),he=a(119),xe=a.n(he),me=a(278),Oe=a.n(me),ge=a(92),fe=a.n(ge),ye=a(525),ve=a(559),Ee=a(5),Se=a(519),Te=Object(Se.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(d.a)({background:"#3f51b5",display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(Ee.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},formGroup:{margin:"1rem 0"},textFullWidth:{width:"95%"},review:{display:"grid",width:"100%",gridTemplateColumns:"1fr 1fr 1fr",height:"200px"},studentForm:{width:"100%",display:"grid",gridTemplateColumns:"80% 20%"},addStudent:{width:"100%",display:"grid",gridTemplateColumns:"40% 40% 20%"},addStudentField:{display:"flex",flexDirection:"column",margin:"0 0.3rem"},authRoot:{minWidth:600,padding:"2rem 0.5rem"},failureText:{fontSize:"0.8rem",color:"#f44336"},sucessText:{fontSize:"0.8rem",color:"rgb(30, 70, 32)"},loadingContainer:{display:"grid",justifyContent:"center",alignContent:"center"},authContainer:{background:"#f4f4f4",display:"grid",justifyContent:"center",alignContent:"center",width:"100vw",height:"100vh"}}})),_e={openGroupModal:"OPEN_GROUP_MODAL",setGroup:"SET_GROUP",setName:"SET_NAME",setAction:"SET_ACTION",setStudentName:"SET_STUDENT_NAME",setStudentId:"SET_STUDENT_ID",addStudent:"ADD_STUDENT",removeStudent:"REMOVE_STUDENT"},Ce=a(521),we=a(522),Ne=a(558),Ae=a(277),De=a.n(Ae),Re=a(165),Ge=a.n(Re),Ie={openGroup:!1,group:{name:"",students:[]},student:{name:"",id:""},action:"CREATE",groups:[]};function ke(e,t){switch(t.type){case _e.openGroupModal:return Object(d.a)(Object(d.a)({},e),{},{openGroup:t.payload.openGroup});case _e.setGroup:return Object(d.a)(Object(d.a)({},e),{},{group:Object(d.a)({},t.payload.group)});case _e.setName:return Object(d.a)(Object(d.a)({},e),{},{group:Object(d.a)(Object(d.a)({},e.group),{},{name:t.payload.name})});case _e.setStudentName:return Object(d.a)(Object(d.a)({},e),{},{student:Object(d.a)(Object(d.a)({},e.student),{},{name:t.payload.studentName})});case _e.setStudentId:return Object(d.a)(Object(d.a)({},e),{},{student:Object(d.a)(Object(d.a)({},e.student),{},{id:t.payload.studentId})});case _e.addStudent:return Object(d.a)(Object(d.a)({},e),{},{group:Object(d.a)(Object(d.a)({},e.group),{},{students:[].concat(Object(ue.a)(e.group.students),[t.payload.student])}),student:{name:"",id:""}});case _e.removeStudent:return console.log("aqui"),console.log(e),e;case _e.setAction:return Object(d.a)(Object(d.a)({},e),{},{action:t.payload.action});default:return e}}function Me(e,t,a){console.log("handleRemoveStudent"),console.log(e),console.log(t),console.log(a),a({type:_e.removeStudent,payload:{student:e}})}var Pe=function(e){var t=e.group,a=e.onClose,c=e.handleRemoveStudent,s=e.showCloseButton,r=void 0===s||s,i=e.removeMembers,o=void 0!==i&&i,d=Te(),u=Object(n.useReducer)(ke,Ie),j=Object(l.a)(u,2),p=j[0],b=j[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{children:"Estudiantes"}),Object(h.jsx)(w.a,{style:{width:"100%",overflow:"auto",maxHeight:300},children:t.students.map((function(e){return Object(h.jsxs)(F.a,{children:[Object(h.jsx)(Ce.a,{children:Object(h.jsx)(Ne.a,{children:Object(h.jsx)(De.a,{})})}),Object(h.jsx)(L.a,{primary:"".concat(e.username,"(").concat(e.student_id,")")}),o&&Object(h.jsx)(we.a,{children:Object(h.jsx)(D.a,{edge:"end","aria-label":"delete",onClick:function(){c(e.student_id,p,b)},children:Object(h.jsx)(Ge.a,{})})})]},"student-".concat(e.student_id))}))}),r&&Object(h.jsx)(be.a,{variant:"contained",size:"large",className:d.button,startIcon:Object(h.jsx)(fe.a,{}),type:"button",onClick:a,style:{marginRight:"1rem"},children:"Cerrar"})]})};var Fe=function(e){var t=e.group,a=e.student,n=e.handleCancel,c=e.handleSubmit,s=e.handleAddStudent,r=e.handleRemoveStudent,i=e.dispatch,o=e.editable,d=void 0===o||o,l=e.action,u=void 0===l?"CREATE":l,j=Te();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(ye.a,{className:j.formGroup,children:[Object(h.jsx)(ve.a,{htmlFor:"nombre",children:"Nombre"}),Object(h.jsx)(pe.a,{id:"nombre",placeholder:"Ingresa el nombre del grupo",value:t.name,onChange:function(e){return i({type:_e.setName,payload:{name:e.target.value}})},disabled:!d})]}),Object(h.jsx)(ye.a,{className:j.formGroup,children:Object(h.jsx)(Pe,{group:{students:t.students},showCloseButton:!1,removeMembers:!0,handleRemoveStudent:r})}),Object(h.jsx)(ye.a,{className:j.formGroup,children:Object(h.jsxs)("div",{className:j.addStudent,children:[Object(h.jsxs)("div",{className:j.addStudentField,children:[Object(h.jsx)(ve.a,{htmlFor:"nombre",children:"Estudiante"}),Object(h.jsx)(pe.a,{id:"estudiante",placeholder:"Nombre",value:a.name,onChange:function(e){return i({type:_e.setStudentName,payload:{studentName:e.target.value}})},disabled:!d})]}),Object(h.jsxs)("div",{className:j.addStudentField,children:[Object(h.jsx)(ve.a,{htmlFor:"nombre",children:"Identificador"}),Object(h.jsx)(pe.a,{id:"identificador",placeholder:"N\xfamero de identificador",value:a.id,onChange:function(e){return i({type:_e.setStudentId,payload:{studentId:e.target.value}})},disabled:!d})]}),Object(h.jsx)(be.a,{variant:"contained",size:"large",className:j.button,startIcon:Object(h.jsx)(Oe.a,{}),type:"button",onClick:s,style:{marginRight:"1rem"},children:"Agregar"})]})}),Object(h.jsxs)("div",{style:{marginTop:"1rem"},children:[Object(h.jsx)(be.a,{variant:"contained",size:"large",className:j.button,startIcon:Object(h.jsx)(fe.a,{}),type:"button",onClick:n,style:{marginRight:"1rem"},children:"Cancelar"}),d&&Object(h.jsx)(be.a,{variant:"contained",color:"primary",size:"large",className:j.button,startIcon:Object(h.jsx)(xe.a,{}),type:"submit",onClick:function(e){return c(e,u)},children:"Guardar"})]})]})},Ue=a(551),Le=a(530),ze=a(473),Be=Object(Se.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{width:"60vw",height:"80vh",overflow:"auto",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function We(e){var t=e.buttonTitle,a=e.title,n=e.children,c=e.open,s=e.setOpen,r=e.showButton,i=void 0===r||r,o=Be();return Object(h.jsxs)("div",{children:[i&&Object(h.jsx)(be.a,{variant:"contained",color:"primary",onClick:function(){s(!0)},children:t}),Object(h.jsx)(Ue.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:o.modal,open:c,onClose:function(){s(!1)},closeAfterTransition:!0,BackdropComponent:Le.a,BackdropProps:{timeout:500},children:Object(h.jsx)(ze.a,{in:c,children:Object(h.jsxs)("div",{className:o.paper,children:[Object(h.jsx)("h2",{id:"transition-modal-title",children:a}),n]})})})]})}var Ye=We,Ve=a(206),Je=a(531),qe=a(535),Xe=a(534),He=a(532),Ke=a(533),Qe=a(553),Ze=a(281),$e=a.n(Ze),et=a(280),tt=a.n(et),at=a(279),nt=Object(Se.a)((function(e){return{seeMore:{marginTop:e.spacing(2)}}}));function ct(e){var t=e.handleModify,a=e.handleDelete,s=e.title,r=e.headers,i=void 0===r?[]:r,o=e.rows,d=void 0===o?[]:o,u=e.showActions,j=void 0!==u&&u,p=nt(),b=Object(n.useState)(0),x=Object(l.a)(b,2),m=x[0],O=x[1],g=Object(n.useState)(5),f=Object(l.a)(g,2),y=f[0],v=f[1];return Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(te,{children:s}),Object(h.jsxs)(Je.a,{size:"small",children:[Object(h.jsx)(He.a,{children:Object(h.jsx)(Ke.a,{children:i.length>=0&&i.map((function(e){return Object(h.jsx)(Xe.a,{children:e},e)}))})}),Object(h.jsx)(qe.a,{children:d.slice(m*y,m*y+y).map((function(e){var n=Object(Ve.a)(e),c=n[0],s=n.slice(1);return Object(h.jsxs)(Ke.a,{children:[s.map((function(e){return e&&"object"===typeof e?Object(h.jsx)(Xe.a,{children:Object(h.jsx)(je.a,{component:"button",onClick:e.onClick,children:e.text})},"".concat(c,"-").concat(e.id,"-").concat(e.text,"-").concat(Math.random())):Object(h.jsx)(Xe.a,{children:e},"".concat(c,"-").concat(e,"-").concat(Math.random()))})),j?Object(h.jsx)(Xe.a,{children:Object(h.jsxs)("label",{htmlFor:"icon-button-file",style:{marginRight:"1rem"},children:[Object(h.jsx)(D.a,{color:"primary","aria-label":"modify an exercise",component:"span",onClick:function(e){return t(c)},children:Object(h.jsx)(tt.a,{})}),Object(h.jsx)(D.a,{color:"primary","aria-label":"delete an exercise",component:"span",onClick:function(e){return a(c)},children:Object(h.jsx)(Ge.a,{})})]})}):null]},"".concat(c,"-").concat(Math.random()))}))})]}),Object(h.jsx)(Qe.a,{component:"div",count:d.length,page:(null===d||void 0===d?void 0:d.length)?m:0,onPageChange:function(e,t){O(t)},rowsPerPage:y,onRowsPerPageChange:function(e){v(parseInt(e.target.value,10)),O(0)}}),Object(h.jsx)("div",{className:p.seeMore,children:Object(h.jsxs)(at.CSVLink,{data:[i].concat(Object(ue.a)(d.map((function(e){var t=Object(Ve.a)(e).slice(1);return"object"===typeof t[0]&&"object"===typeof t[1]?[t[0].text,t[1].text,t[2]]:"object"===typeof t[0]&&"string"===typeof t[1]?[t[0].text,t[1],t[2]]:t})))),filename:"exportar.csv",children:["Exportar como csv",Object(h.jsx)($e.a,{style:{fontSize:"1.2rem",position:"relative",top:".4rem"}})]})})]})}var st=a(472),rt={openExerciseModal:"OPEN_EXERCISE_MODAL",setExercise:"SET_EXERCISE",setTitle:"SET_TITLE",setDescription:"SET_DESCRIPTION",setWordsAmount:"SET_WORDS_AMOUNT",setExercises:"SET_EXERCISES",setAction:"SET_ACTION",setExerciseImage:"SET_EXERCISE_IMAGE",setImageSrc:"SET_IMAGE_SRC"},it=a(290);var ot=function(e){var t=e.exercise,a=e.handleCancel,c=e.handleSubmit,s=e.dispatch,r=e.editable,i=void 0===r||r,o=e.action,d=void 0===o?"CREATE":o,u=Te(),j=Object(n.useState)(),p=Object(l.a)(j,2),b=p[0],x=p[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(ye.a,{className:u.formGroup,children:[Object(h.jsx)(ve.a,{htmlFor:"titulo",children:"Titulo"}),Object(h.jsx)(pe.a,{id:"titulo",placeholder:"Titulo",value:t.title,onChange:function(e){return s({type:rt.setTitle,payload:{title:e.target.value}})},disabled:!i})]}),Object(h.jsxs)(ye.a,{className:u.formGroup,children:[Object(h.jsx)(ve.a,{htmlFor:"descripcion",children:"Descripci\xf3n"}),Object(h.jsx)(st.a,{"aria-label":"Descripci\xf3n",minRows:10,placeholder:"Ingresa una descripci\xf3n",value:t.description,onChange:function(e){return s({type:rt.setDescription,payload:{description:e.target.value}})},disabled:!i})]}),Object(h.jsxs)(ye.a,{className:u.formGroup,children:[Object(h.jsx)(ve.a,{htmlFor:"cantidad-palabras",children:"Cantidad de palabras en el texto"}),Object(h.jsx)(pe.a,{id:"cantidad-palabras",label:"",type:"number",InputLabelProps:{shrink:!0},value:t.wordsAmount,onChange:function(e){return s({type:rt.setWordsAmount,payload:{wordsAmount:e.target.value}})},disabled:!i})]}),Object(h.jsxs)(ye.a,{className:u.formGroup,style:{marginBottom:"5rem"},children:[Object(h.jsx)(ve.a,{htmlFor:"Imagen",children:"Imagen"}),Object(h.jsx)(it.a,{handleImageSelect:function(e){x(URL.createObjectURL(e.target.files[0])),s({type:rt.setExerciseImage,payload:{exercise_image:e.target.files[0].name}});var t=e.target.files,a=new FormData;a.append("image",t[0]),fetch("".concat("http://localhost:5000","/image"),{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){})).catch((function(e){console.error(e)}))},imageSrc:b,setImageSrc:x,style:{width:400,height:250,background:"#f4f4f4"}})]}),Object(h.jsxs)("div",{style:{marginTop:"1rem"},children:[Object(h.jsx)(be.a,{variant:"contained",size:"large",className:u.button,startIcon:Object(h.jsx)(fe.a,{}),type:"button",onClick:a,style:{marginRight:"1rem"},children:"Cancelar"}),i&&Object(h.jsx)(be.a,{variant:"contained",color:"primary",size:"large",className:u.button,startIcon:Object(h.jsx)(xe.a,{}),type:"submit",onClick:function(e){return c(e,d)},children:"Guardar"})]})]})},dt=["Ejercicio","Grupo","Fecha de Entrega","Acciones"],lt={openAssignmentModal:"OPEN_ASSIGNMENT_MODAL",setAssignment:"SET_ASSIGNMENT",setGroup:"SET_GROUP",setDueDate:"SET_DUE_DATE",setExercise:"SET_EXERCISE",setAssignments:"SET_ASSIGNMENTS",setGroups:"SET_GROUPS",openGroupModal:"OPEN_GROUP_MODAL",setExercises:"SET_EXERCISES",setGroupSelected:"SET_GROUP_SELECTED",openExerciseModal:"OPEN_EXERCISE_MODAL",setExerciseSelected:"SET_EXERCISE_SELECTED",setAction:"SET_ACTION"},ut={openAssignment:!1,assignment:{assignment_id:null,group:{id:"",text:""},dueDate:"",exercise:{id:"",text:""}},assignments:[],groups:[],openGroup:!1,exercises:[],groupSelected:{group_id:null,name:"",students:[]},openExercise:!1,exerciseSelected:{exercise_id:null,title:"",description:""},action:"CREATE"};function jt(e,t){switch(t.type){case lt.openAssignmentModal:return Object(d.a)(Object(d.a)({},e),{},{openAssignment:t.payload.openAssignment});case lt.setAssignment:return Object(d.a)(Object(d.a)({},e),{},{assignment:Object(d.a)(Object(d.a)({},e.assignment),t.payload.assignment)});case lt.setGroup:return Object(d.a)(Object(d.a)({},e),{},{assignment:Object(d.a)(Object(d.a)({},e.assignment),{},{group:Object(d.a)({},t.payload.group)})});case lt.setDueDate:return Object(d.a)(Object(d.a)({},e),{},{assignment:Object(d.a)(Object(d.a)({},e.assignment),{},{dueDate:t.payload.dueDate})});case lt.setExercise:return Object(d.a)(Object(d.a)({},e),{},{assignment:Object(d.a)(Object(d.a)({},e.assignment),{},{exercise:Object(d.a)({},t.payload.exercise)})});case lt.setAssignments:return Object(d.a)(Object(d.a)({},e),{},{assignments:Object(ue.a)(t.payload.assignments)});case lt.openGroupModal:return Object(d.a)(Object(d.a)({},e),{},{openGroup:t.payload.openGroup});case lt.setGroups:return Object(d.a)(Object(d.a)({},e),{},{groups:Object(ue.a)(t.payload.groups)});case lt.setExercises:return Object(d.a)(Object(d.a)({},e),{},{exercises:Object(ue.a)(t.payload.exercises)});case lt.setGroupSelected:return Object(d.a)(Object(d.a)({},e),{},{groupSelected:Object(d.a)(Object(d.a)({},e.groupSelected),t.payload.groupSelected)});case lt.openExerciseModal:return Object(d.a)(Object(d.a)({},e),{},{openExercise:t.payload.openExercise});case lt.setExerciseSelected:return Object(d.a)(Object(d.a)({},e),{},{exerciseSelected:Object(d.a)(Object(d.a)({},e.exerciseSelected),t.payload.exerciseSelected)});case lt.setAction:return Object(d.a)(Object(d.a)({},e),{},{action:t.payload.action});default:return e}}function pt(e){var t=new Date(e);return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")}function bt(){var e=Te(),t=Object(n.useReducer)(jt,ut),a=Object(l.a)(t,2),c=a[0],s=a[1],r=m().currentUser;Object(n.useEffect)((function(){(function(){var e=Object(y.a)(f.a.mark((function e(){var t,a,n,c,i,o,d,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.uid,e.next=3,fetch("".concat("http://localhost:5000","/api/groups?professor_id=").concat(t),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}});case 3:return a=e.sent,e.next=6,a.json();case 6:if(!(null===(n=e.sent)||void 0===n?void 0:n.groups)){e.next=10;break}return e.next=10,s({type:lt.setGroups,payload:{groups:Object(ue.a)(n.groups)}});case 10:return e.next=12,fetch("".concat("http://localhost:5000","/api/exercises?professor_id=").concat(t),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}});case 12:return c=e.sent,e.next=15,c.json();case 15:return i=e.sent,o=i.map((function(e){return{exercise_id:e.exercise_id,name:e.title}})),e.next=19,s({type:lt.setExercises,payload:{exercises:Object(ue.a)(o)}});case 19:return e.next=21,fetch("".concat("http://localhost:5000","/api/assignments?professor_id=").concat(t),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}});case 21:return d=e.sent,e.next=24,d.json();case 24:return l=e.sent,e.next=27,s({type:lt.setAssignments,payload:{assignments:Object(ue.a)(l)}});case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r.uid]);return Object(h.jsxs)(G.a,{container:!0,spacing:3,children:[Object(h.jsxs)($.a,{"aria-label":"breadcrumb",children:[Object(h.jsx)(i.b,{to:"/",children:"Inicio"}),Object(h.jsx)(N.a,{color:"textPrimary",children:"Tareas"})]}),Object(h.jsx)(G.a,{item:!0,xs:12,children:Object(h.jsxs)(Z.a,{className:e.paper,children:[Object(h.jsx)(te,{children:"Crear una nueva tarea"}),Object(h.jsx)(We,{buttonTitle:"grupo",title:"Grupo: ".concat(c.groupSelected.name),open:c.openGroup,setOpen:function(e){s({type:lt.openGroupModal,payload:{openGroup:e}})},showButton:!1,children:Object(h.jsx)(Pe,{group:c.groupSelected,onClose:function(){return s({type:lt.openGroupModal,payload:{openGroup:!1}})}})}),Object(h.jsx)(We,{buttonTitle:"Ejercicio",title:"Ejercicio: ".concat(c.exerciseSelected.title),open:c.openExercise,setOpen:function(e){s({type:lt.openExerciseModal,payload:{openExercise:e}})},showButton:!1,children:Object(h.jsx)(ot,{exercise:Object(d.a)(Object(d.a)({},c.exerciseSelected),{},{wordsAmount:c.exerciseSelected.words_amount}),handleCancel:function(e){return s({type:lt.openExerciseModal,payload:{openExercise:!1}})},editable:!1,dispatch:s})}),Object(h.jsx)(We,{buttonTitle:"Crear",title:"Crear Tarea",open:c.openAssignment,setOpen:function(e){s({type:lt.openAssignmentModal,payload:{openAssignment:e}}),s({type:lt.setAction,payload:{action:"CREATE"}})},children:Object(h.jsx)(mt,{assignment:c.assignment,exercises:c.exercises,groups:c.groups,handleSubmit:function(e){return Ot(e,c,s)},dispatch:s,action:c.action})})]})}),Object(h.jsx)(G.a,{item:!0,xs:12,children:Object(h.jsx)(Z.a,{className:e.paper,children:Object(h.jsx)(ct,{title:"Tareas",headers:dt,rows:c.assignments.map((function(e){return[e.assignment_id,{id:e.exercise.exercise_id,text:e.exercise.title,onClick:function(t){return function(e,t){s({type:lt.openExerciseModal,payload:{openExercise:!0}});var a=t.find((function(t){return t.exercise_id===e}));a&&s({type:lt.setExerciseSelected,payload:{exerciseSelected:a}})}(e.exercise.exercise_id,c.exercises)}},{id:e.group.group_id,text:e.group.group_name,onClick:function(t){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];s({type:lt.openGroupModal,payload:{openGroup:!0}});var a=t.find((function(t){return t.group_id===e}));a&&s({type:lt.setGroupSelected,payload:{groupSelected:a}})}(e.group.group_id,c.groups)}},pt(e.due_date)]})),resource:"assignments",handleModify:function(e){s({type:lt.setAction,payload:{action:"MODIFY"}});var t=c.assignments.find((function(t){return t.assignment_id===e}));if(t){var a=Object(d.a)(Object(d.a)({},t),{},{group:{id:t.group.group_id,text:t.group.group_name},exercise:{id:t.exercise.exercise_id,text:t.exercise.title},dueDate:pt(t.due_date)});s({type:lt.setAssignment,payload:{assignment:Object(d.a)({},a)}})}s({type:lt.openAssignmentModal,payload:{openAssignment:!0}})},handleDelete:function(e){fetch("".concat("http://localhost:5000","/api/assignments/").concat(e),{method:"DELETE",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json()})).then((function(t){console.log(t),console.log(c.assignments),"Assignment deleted!"===t.message&&s({type:lt.setAssignments,payload:{assignments:c.assignments.filter((function(t){return t.assignment_id!==e}))}})}))},showActions:!0})})})]})}var ht=a(537),xt=a(550);var mt=function(e){var t=e.assignment,a=e.exercises,n=e.groups,c=e.dispatch,s=e.handleSubmit,r=e.action,i=void 0===r?"CREATE":r,o=Te();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(ye.a,{className:o.formGroup,children:[Object(h.jsx)(ve.a,{id:"demo-simple-select-label",children:"Ejercicio"}),Object(h.jsx)(xt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:t.exercise.id,onChange:function(e){var t=a.find((function(t){return t.exercise_id===e.target.value}));c({type:lt.setExercise,payload:{exercise:{id:e.target.value,text:t.name}}})},children:a.map((function(e){return Object(h.jsx)(ht.a,{value:e.exercise_id,children:e.name},"exercise-".concat(e.exercise_id))}))})]}),Object(h.jsxs)(ye.a,{className:o.formGroup,children:[Object(h.jsx)(ve.a,{id:"demo-simple-select-label",children:"Grupo"}),Object(h.jsx)(xt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:t.group.id,onChange:function(e){var t=n.find((function(t){return t.group_id===e.target.value}));c({type:lt.setGroup,payload:{group:{id:e.target.value,text:t.name}}})},children:n.map((function(e){return Object(h.jsx)(ht.a,{value:e.group_id,children:e.name},"group-".concat(e.group_id))}))})]}),Object(h.jsx)(ye.a,{className:o.formGroup,children:Object(h.jsx)(pe.a,{id:"standard-number",label:"Fecha de Entrega",type:"date",InputLabelProps:{shrink:!0},value:t.dueDate,onChange:function(e){return c({type:lt.setDueDate,payload:{dueDate:e.target.value}})}})}),Object(h.jsxs)("div",{style:{marginTop:"1rem"},children:[Object(h.jsx)(be.a,{variant:"contained",size:"large",className:o.button,startIcon:Object(h.jsx)(fe.a,{}),type:"button",onClick:function(e){c({type:lt.openAssignmentModal,payload:{openAssignment:!1}}),c({type:lt.setAssignment,payload:{assignment:{assignment_id:null,group:{id:null,text:""},dueDate:"",exercise:{id:null,text:""}}}})},style:{marginRight:"1rem"},children:"Cancelar"}),Object(h.jsx)(be.a,{variant:"contained",color:"primary",size:"large",className:o.button,startIcon:Object(h.jsx)(xe.a,{}),type:"submit",onClick:function(e){return s(e,i)},children:"Guardar"})]})]})};function Ot(e,t,a){e.preventDefault();var n={due_date:t.assignment.dueDate,exercise_id:t.assignment.exercise.id,group_id:t.assignment.group.id},c=null;if("CREATE"===t.action)c=fetch("".concat("http://localhost:5000","/api/assignments"),{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});else{if("MODIFY"!==t.action)return;c=fetch("".concat("http://localhost:5000","/api/assignments/").concat(t.assignment.assignment_id),{method:"PUT",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}c.then((function(e){if(e.ok)return e.json()})).then((function(e){var c=Object(d.a)(Object(d.a)({},t.assignment),{},{assignment_id:"CREATE"===t.action?e.assignment.assignment_id:t.assignment.assignment_i,group:{group_id:t.assignment.group.id,group_name:t.assignment.group.text},exercise:{exercise_id:t.assignment.exercise.id,title:t.assignment.exercise.text},due_date:new Date(n.due_date).toISOString()});if("CREATE"===t.action&&a({type:lt.setAssignments,payload:{assignments:[].concat(Object(ue.a)(t.assignments),[c])}}),"MODIFY"===t.action){var s=t.assignments.filter((function(e){return e.assignment_id!==t.assignment.assignment_id}));a({type:lt.setAssignments,payload:{assignments:[].concat(Object(ue.a)(s),[c])}})}a({type:lt.setAssignment,payload:{assignment:{assignment_id:null,group:{id:"",text:""},dueDate:"",exercise:{id:"",text:""}}}}),a({type:lt.openAssignmentModal,payload:{openAssignment:!1}})})).catch((function(e){return console.log(e)}))}var gt=function(){var e=Object(n.useReducer)(ke,Ie),t=Object(l.a)(e,2),a=t[0],s=t[1],r=Object(n.useReducer)(jt,ut),i=Object(l.a)(r,2),o=i[0],u=i[1],j=m().currentUser,p=j.uid;return Object(n.useEffect)((function(){(function(){var e=Object(y.a)(f.a.mark((function e(){var t,a,n,c,s,r,i,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.uid,e.next=3,fetch("".concat("http://localhost:5000","/api/groups?professor_id=").concat(t),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}});case 3:return a=e.sent,e.next=6,a.json();case 6:if(!(null===(n=e.sent)||void 0===n?void 0:n.groups)){e.next=10;break}return e.next=10,u({type:lt.setGroups,payload:{groups:Object(ue.a)(n.groups)}});case 10:return e.next=12,fetch("".concat("http://localhost:5000","/api/exercises?professor_id=").concat(t),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}});case 12:return c=e.sent,e.next=15,c.json();case 15:return s=e.sent,r=s.map((function(e){return{exercise_id:e.exercise_id,name:e.title}})),e.next=19,u({type:lt.setExercises,payload:{exercises:Object(ue.a)(r)}});case 19:return e.next=21,fetch("".concat("http://localhost:5000","/api/assignments?professor_id=").concat(t),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}});case 21:return i=e.sent,e.next=24,i.json();case 24:return o=e.sent,e.next=27,u({type:lt.setAssignments,payload:{assignments:Object(ue.a)(o)}});case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[j.uid]),Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(ee,{children:"Crear nueva tarea"}),Object(h.jsx)(Ye,{buttonTitle:"Crear",title:"Crear Tarea",open:o.openAssignment,setOpen:function(e){u({type:lt.openAssignmentModal,payload:{openAssignment:e}}),u({type:lt.setAction,payload:{action:"CREATE"}})},children:Object(h.jsx)(mt,{assignment:o.assignment,exercises:o.exercises,groups:o.groups,handleSubmit:function(e){return Ot(e,o,u)},dispatch:u,action:o.action})}),Object(h.jsx)("div",{style:{marginTop:"1rem"},children:Object(h.jsx)(je.a,{href:"#",onClick:function(){return s({type:_e.openGroupModal,payload:{openGroup:!a.openGroup}})},children:"Crear un nuevo grupo"})}),Object(h.jsx)(Ye,{buttonTitle:"Crear grupo",title:"Crear Grupo",open:a.openGroup,showButton:!1,setOpen:function(){s({type:_e.openGroupModal,payload:{openGroup:!a.openGroup}}),s({type:_e.setAction,payload:{action:"CREATE"}})},children:Object(h.jsx)(Fe,{group:a.group,student:a.student,handleCancel:function(e){s({type:_e.openGroupModal,payload:{openGroup:!1}}),s({type:_e.setGroup,payload:{group:{name:"",students:[],professor_id:null}}})},handleSubmit:function(e){return function(e,t,a,n){e.preventDefault();var c=null,s={name:t.group.name,students:t.group.students.map((function(e){return e.student_id})),professor_id:n};if("CREATE"===t.action)c=fetch("".concat("http://localhost:5000","/api/groups"),{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});else{if("MODIFY"!==t.action)return;c=fetch("".concat("http://localhost:5000","/api/groups/").concat(t.group.group_id),{method:"PUT",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})}c.then((function(e){if(e.ok)return e.json()})).then((function(e){if("CREATE"===t.action&&a({type:_e.setGroups,payload:{groups:[].concat(Object(ue.a)(t.groups),[Object(d.a)(Object(d.a)({},s),{},{group_id:e.group.group_id})])}}),"MODIFY"===t.action){var n=t.groups.filter((function(e){return e.group_id!==t.group.group_id}));a({type:_e.setGroups,payload:{groups:[].concat(Object(ue.a)(n),[Object(d.a)(Object(d.a)({},s),{},{group_id:t.group.group_id})])}})}a({type:_e.openGroupModal,payload:{openGroup:!1}}),a({type:_e.setGroup,payload:{group:{name:"",students:[]}}})})).catch((function(e){return console.log(e)}))}(e,a,s,p)},handleAddStudent:function(e){return function(e,t,a){e.preventDefault();var n={username:t.student.name,student_id:t.student.id};fetch("".concat("http://localhost:5000","/api/students/").concat(n.student_id),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){return 200===e.status?"PUT":404===e.status?"POST":void 0})).then((function(e){fetch("".concat("http://localhost:5000","/api/students")+("PUT"===e?"/".concat(n.student_id):""),{method:e,mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){if(e.ok)return e.json()})).then((function(e){a({type:_e.addStudent,payload:{student:{student_id:t.student.id,username:t.student.name}}})}))})).catch((function(e){console.log(e)}))}(e,a,s)},handleRemoveStudent:Me,dispatch:s,editable:!0,action:"CREATE"})})]})},ft=["Tarea","Fecha de Entrega M\xe1xima","Cantidad de Tareas Recibidas"];function yt(){var e=Te(),t=Object(v.a)(e.paper,e.fixedHeight),a=Object(n.useReducer)(St,Et),c=Object(l.a)(a,2),s=c[0],r=c[1],i=m().currentUser;return Object(n.useEffect)((function(){var e=i.uid;fetch("".concat("http://localhost:5000","/api/deliver-assignments/last-delivers?professor_id=").concat(e),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json()})).then((function(e){if(e){var t=e.map((function(e){return[e.assignment_id,e.title,pt(e.due_date),e.total_delivers]}));r({type:vt.getDelivers,payload:{delivers:t}})}})).catch((function(e){return console.log(e)}))}),[i.uid]),Object(n.useEffect)((function(){var e=i.uid;fetch("".concat("http://localhost:5000","/api/deliver-assignments/average-delivers?professor_id=").concat(e),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json()})).then((function(e){if(e){var t=e.map((function(e){return{name:e.title,cantidad_palabras_detectadas:e.avg_words_amount,cantidad_palabras_en_lectura:e.words_amount}}));r({type:vt.getAverageDeliverResults,payload:{averageDeliverResults:t}})}})).catch((function(e){return console.log(e)}))}),[i.uid]),Object(h.jsxs)(G.a,{container:!0,spacing:3,children:[Object(h.jsx)(G.a,{item:!0,xs:12,md:8,lg:9,children:Object(h.jsx)($.a,{"aria-label":"breadcrumb",children:Object(h.jsx)(N.a,{color:"textPrimary",children:"Inicio"})})}),Object(h.jsx)(G.a,{item:!0,xs:12,md:8,lg:9,children:Object(h.jsx)(Z.a,{className:t,children:Object(h.jsx)(le,{rows:s.averageDeliverResults})})}),Object(h.jsx)(G.a,{item:!0,xs:12,md:4,lg:3,children:Object(h.jsx)(Z.a,{className:t,children:Object(h.jsx)(gt,{})})}),Object(h.jsx)(G.a,{item:!0,xs:12,children:Object(h.jsx)(Z.a,{className:e.paper,children:Object(h.jsx)(ct,{title:"Ultimas Tareas",headers:ft,showActions:!1,rows:s.delivers})})})]})}var vt={getDelivers:"GET_DELIVERS",getAverageDeliverResults:"GET_AVERAGE_DELIVER_RESULTS"},Et={delivers:[],averageDeliverResults:[]};function St(e,t){switch(t.type){case vt.getDelivers:return Object(d.a)(Object(d.a)({},e),{},{delivers:Object(ue.a)(t.payload.delivers)});case vt.getAverageDeliverResults:return Object(d.a)(Object(d.a)({},e),{},{averageDeliverResults:Object(ue.a)(t.payload.averageDeliverResults)});default:return e}}var Tt=a(526),_t=a(552),Ct={setStudents:"SET_STUDENTS",setStudentsSelected:"SET_STUDENTS_SELECTED",searchStudentsAssignments:"SEARCH_STUDENTS_ASSIGNMENTS",getStudentsDelivers:"GET_STUDENTS_DELIVERS",showDelivers:"SHOW_DELIVERS"},wt={students:[],studentsSelected:[],studentsDelivers:[],showDelivers:!1};function Nt(e,t){switch(t.type){case Ct.setStudents:return Object(d.a)(Object(d.a)({},e),{},{students:Object(ue.a)(t.payload.students)});case Ct.setStudentsSelected:return Object(d.a)(Object(d.a)({},e),{},{studentsSelected:Object(ue.a)(t.payload.studentsSelected)});case Ct.getStudentsDelivers:return Object(d.a)(Object(d.a)({},e),{},{studentsDelivers:Object(ue.a)(t.payload.studentsDelivers)});case Ct.showDelivers:return Object(d.a)(Object(d.a)({},e),{},{showDelivers:t.payload.showDelivers});default:return e}}var At=["Alumno","Tarea","Fecha de envi\xf3"],Dt={PaperProps:{style:{maxHeight:224,width:250}}};var Rt=function(){var e=Te(),t=Object(n.useReducer)(Nt,wt),a=Object(l.a)(t,2),c=a[0],s=a[1],r=Object(o.g)(),d=m().currentUser,u=function(e){return[e.deliver_assignment_id,{id:e.student.student_id,text:e.student.username,onClick:function(){return function(e){var t=e.deliver_assignment_id;r.push("/resumen-tarea/".concat(t))}(e)}},e.exercise.title,pt(e.arrive_at)]};return Object(n.useEffect)((function(){var e=d.uid;fetch("".concat("http://localhost:5000","/api/students?professor_id=").concat(e),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json()})).then((function(e){e&&s({type:Ct.setStudents,payload:{students:Object(ue.a)(e)}})})).catch((function(e){return console.log(e)}))}),[d.uid]),Object(h.jsxs)(G.a,{container:!0,spacing:3,children:[Object(h.jsxs)($.a,{"aria-label":"breadcrumb",children:[Object(h.jsx)(i.b,{to:"/",children:"Inicio"}),Object(h.jsx)(N.a,{color:"textPrimary",children:"Alumnos"})]}),Object(h.jsx)(G.a,{item:!0,xs:12,children:Object(h.jsxs)(Z.a,{className:e.paper,children:[Object(h.jsx)(te,{children:"Alumnos"}),Object(h.jsx)(ve.a,{id:"demo-mutiple-checkbox-label",children:"Alumnos (Identificator)"}),Object(h.jsxs)("div",{className:e.studentForm,children:[Object(h.jsx)(xt.a,{labelId:"demo-mutiple-checkbox-label",id:"demo-mutiple-checkbox",multiple:!0,value:c.studentsSelected,onChange:function(e){s({type:Ct.setStudentsSelected,payload:{studentsSelected:e.target.value}})},input:Object(h.jsx)(Tt.a,{}),renderValue:function(e){return e.join(", ")},MenuProps:Dt,children:c.students.map((function(e){return Object(h.jsxs)(ht.a,{value:"".concat(e.username," (").concat(e.student_id,")"),children:[Object(h.jsx)(_t.a,{checked:c.studentsSelected.indexOf("".concat(e.username," (").concat(e.student_id,")"))>-1}),Object(h.jsx)(L.a,{primary:"".concat(e.username," (").concat(e.student_id,")")})]},e.student_id)}))}),Object(h.jsx)(be.a,{variant:"contained",color:"primary",onClick:function(){var e=d.uid,t=c.studentsSelected.map((function(e){return Number(e.substring(e.indexOf("(")+1,e.length-1))}));fetch("".concat("http://localhost:5000","/api/deliver-assignments?professor_id=").concat(e),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json()})).then((function(e){if(s({type:Ct.showDelivers,payload:{showDelivers:!0}}),e){if(!t||0===t.length)return s({type:Ct.getStudentsDelivers,payload:{studentsDelivers:e.map(u)}});var a=e.filter((function(e){return t.includes(e.student.student_id)})).map(u);return s({type:Ct.getStudentsDelivers,payload:{studentsDelivers:Object(ue.a)(a)}})}s({type:Ct.setStudentsSelected,payload:{studentsSelected:[]}})})).catch((function(e){return console.log(e)}))},children:"Buscar"})]})]})}),c.showDelivers?Object(h.jsx)(G.a,{item:!0,xs:12,children:Object(h.jsx)(Z.a,{className:e.paper,children:Object(h.jsx)(ct,{title:"Tareas",headers:At,rows:c.studentsDelivers,resource:"deliver-assignments",handleModify:function(){},handleDelete:function(){},showActions:!1})})}):null]})};var Gt=["Titulo","Descripci\xf3n","Cantidad de palabras en la lectura","Acciones"],It={openExercise:!1,exercise:{title:"",description:"",wordsAmount:0,exercise_id:null,exercise_image:""},exercises:[],action:"CREATE",imageSrc:""};function kt(e,t){switch(t.type){case rt.openExerciseModal:return Object(d.a)(Object(d.a)({},e),{},{openExercise:t.payload.openExercise});case rt.setExercise:return Object(d.a)(Object(d.a)({},e),{},{exercise:Object(d.a)({},t.payload.exercise)});case rt.setTitle:return Object(d.a)(Object(d.a)({},e),{},{exercise:Object(d.a)(Object(d.a)({},e.exercise),{},{title:t.payload.title})});case rt.setDescription:return Object(d.a)(Object(d.a)({},e),{},{exercise:Object(d.a)(Object(d.a)({},e.exercise),{},{description:t.payload.description})});case rt.setWordsAmount:return Object(d.a)(Object(d.a)({},e),{},{exercise:Object(d.a)(Object(d.a)({},e.exercise),{},{wordsAmount:t.payload.wordsAmount})});case rt.setExerciseImage:return Object(d.a)(Object(d.a)({},e),{},{exercise:Object(d.a)(Object(d.a)({},e.exercise),{},{exercise_image:t.payload.exercise_image})});case rt.setImageSrc:return Object(d.a)(Object(d.a)({},e),{},{imageSrc:t.payload.imageSrc});case rt.setExercises:return Object(d.a)(Object(d.a)({},e),{},{exercises:Object(ue.a)(t.payload.exercises)});case rt.setAction:return Object(d.a)(Object(d.a)({},e),{},{action:t.payload.action});default:return e}}var Mt=function(){var e=Te(),t=Object(n.useReducer)(kt,It),a=Object(l.a)(t,2),c=a[0],s=a[1],r=m().currentUser;return Object(n.useEffect)((function(){var e=r.uid;fetch("".concat("http://localhost:5000","/api/exercises?professor_id=").concat(e),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json()})).then((function(e){s({type:rt.setExercises,payload:{exercises:Object(ue.a)(e)}})})).catch((function(e){return console.log(e)}))}),[r.uid]),Object(h.jsxs)(G.a,{container:!0,spacing:3,children:[Object(h.jsxs)($.a,{"aria-label":"breadcrumb",children:[Object(h.jsx)(i.b,{to:"/",children:"Inicio"}),Object(h.jsx)(N.a,{color:"textPrimary",children:"Ejercicios"})]}),Object(h.jsx)(G.a,{item:!0,xs:12,children:Object(h.jsxs)(Z.a,{className:e.paper,children:[Object(h.jsx)(te,{children:"Crear un nuevo ejercicio"}),Object(h.jsx)(We,{buttonTitle:"Crear",title:"Crear Ejercicio",open:c.openExercise,setOpen:function(){s({type:rt.openExerciseModal,payload:{openExercise:!c.openExercise}}),s({type:rt.setAction,payload:{action:"CREATE"}})},children:Object(h.jsx)(ot,{exercise:c.exercise,handleCancel:function(e){s({type:rt.openExerciseModal,payload:{openExercise:!1}}),s({type:rt.setExercise,payload:{exercise:{title:"",description:"",wordsAmount:0}}})},handleSubmit:function(e,t){e.preventDefault();var a=null,n={title:c.exercise.title,description:c.exercise.description,words_amount:c.exercise.wordsAmount,professor_id:r.uid,exercise_image:c.exercise.exercise_image};if("CREATE"===t)a=fetch("".concat("http://localhost:5000","/api/exercises"),{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});else{if("MODIFY"!==t)return;a=fetch("".concat("http://localhost:5000","/api/exercises/").concat(c.exercise.exercise_id),{method:"PUT",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})}a.then((function(e){if(e.ok)return e.json()})).then((function(e){if("CREATE"===t&&s({type:rt.setExercises,payload:{exercises:[].concat(Object(ue.a)(c.exercises),[Object(d.a)(Object(d.a)({},n),{},{exercise_id:e.exercise.exercise_id})])}}),"MODIFY"===t){var a=c.exercises.filter((function(e){return e.exercise_id!==c.exercise.exercise_id}));s({type:rt.setExercises,payload:{exercises:[].concat(Object(ue.a)(a),[Object(d.a)(Object(d.a)({},n),{},{exercise_id:c.exercise.exercise_id})])}})}s({type:rt.openExerciseModal,payload:{openExercise:!1}}),s({type:rt.setExercise,payload:{exercise:{title:"",description:"",wordsAmount:0,exercise_id:null,exercise_image:""}}})})).catch((function(e){return console.log(e)}))},dispatch:s,editable:!0,action:c.action})})]})}),Object(h.jsx)(G.a,{item:!0,xs:12,children:Object(h.jsx)(Z.a,{className:e.paper,children:Object(h.jsx)(ct,{title:"Ejercicios",headers:Gt,rows:c.exercises.map((function(e){return[e.exercise_id,e.title,e.description,e.words_amount]})),resource:"exercises",handleModify:function(e){s({type:rt.setAction,payload:{action:"MODIFY"}}),s({type:rt.openExerciseModal,payload:{openExercise:!0}});var t=c.exercises.find((function(t){return t.exercise_id===e}));t&&s({type:rt.setExercise,payload:{exercise:Object(d.a)(Object(d.a)({},t),{},{wordsAmount:t.words_amount})}})},handleDelete:function(e){(function(e){var t=e.id,a=e.resourceType;return fetch("".concat("http://localhost:5000","/api/").concat(a,"/").concat(t),{method:"DELETE",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json()})).then((function(e){return Promise.resolve(!0)})).catch((function(e){return Promise.reject(!1)}))})({id:e,resourceType:"exercises"}).then((function(t){t&&s({type:rt.setExercises,payload:{exercises:c.exercises.filter((function(t){return t.exercise_id!==e}))}})}))},showActions:!0})})})]})},Pt={setDeliver:"SET_DELIVER",setExerciseDetails:"SET_EXERCISE_DETAILS"};function Ft(e,t){switch(t.type){case Pt.setDeliver:case Pt.setExerciseDetails:return Object(d.a)(Object(d.a)({},e),t.payload);default:return e}}var Ut={student:"",assignment:"",arriveAt:"",totalWordsDetected:0,totalWordsInTheLecture:0,dueDate:"",exerciseId:"",description:"",audioURL:null,imageURL:null,speechToText:""};var Lt=function(){var e=Object(o.h)().deliverAssignmentId,t=Object(n.useReducer)(Ft,Ut),a=Object(l.a)(t,2),c=a[0],s=a[1],r=Te();return Object(n.useEffect)((function(){fetch("".concat("http://localhost:5000","/api/deliver-assignments/").concat(e),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json()})).then((function(e){if(e){var t=e[0];s({type:Pt.setDeliver,payload:{student:"".concat(t.student.username,"(").concat(t.student.student_id,")"),assignment:"".concat(t.exercise.title),arriveAt:pt(t.arrive_at),totalWordsDetected:t.total_words_detected,dueDate:pt(t.assignment.due_date),exerciseId:t.exercise.exercise_id,audioURL:t.audio_URL,speechToText:t.speech_to_text}})}})).catch((function(e){return console.log(e)}))}),[e]),Object(n.useEffect)((function(){c.exerciseId&&fetch("".concat("http://localhost:5000","/api/exercises/").concat(c.exerciseId),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json()})).then((function(e){if(e){var t=e[0];s({type:Pt.setExerciseDetails,payload:{description:t.description,totalWordsInTheLecture:t.words_amount,imageURL:t.exercise_image}})}})).catch((function(e){return console.log(e)}))}),[c.exerciseId]),Object(h.jsxs)(G.a,{container:!0,spacing:3,children:[Object(h.jsxs)($.a,{"aria-label":"breadcrumb",children:[Object(h.jsx)(i.b,{to:"/",children:"Inicio"}),Object(h.jsx)(i.b,{to:"/alumnos",children:"Alumnos"}),Object(h.jsx)(N.a,{color:"textPrimary",children:"Resumen Tarea Recibida"})]}),Object(h.jsx)(G.a,{item:!0,xs:12,children:Object(h.jsxs)(Z.a,{className:r.paper,children:[Object(h.jsx)(te,{children:"Tarea Recibida"}),Object(h.jsxs)("div",{className:r.review,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(ve.a,{id:"demo-mutiple-checkbox-label",children:"Alumno"}),Object(h.jsx)(pe.a,{value:c.student,readOnly:!0,className:r.textFullWidth})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(ve.a,{id:"demo-mutiple-checkbox-label",children:"Tarea"}),Object(h.jsx)(pe.a,{value:c.assignment,readOnly:!0,className:r.textFullWidth})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(ve.a,{id:"demo-mutiple-checkbox-label",children:"Fecha de entrega"}),Object(h.jsx)(pe.a,{value:c.arriveAt,readOnly:!0,className:r.textFullWidth})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(ve.a,{id:"demo-mutiple-checkbox-label",children:"Fecha limite de entrega"}),Object(h.jsx)(pe.a,{value:c.dueDate,readOnly:!0,className:r.textFullWidth})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(ve.a,{id:"demo-mutiple-checkbox-label",children:"Cantidad de palabras en el texto"}),Object(h.jsx)(pe.a,{value:c.totalWordsInTheLecture,readOnly:!0,className:r.textFullWidth})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(ve.a,{id:"demo-mutiple-checkbox-label",children:"Cantidad de palabras detectadas"}),Object(h.jsx)(pe.a,{value:c.totalWordsDetected,className:r.textFullWidth})]})]}),Object(h.jsx)(te,{children:"Description"}),Object(h.jsx)(st.a,{minRows:5,"aria-label":"empty textarea",placeholder:"Descripcion",readOnly:!0,value:c.description}),Object(h.jsxs)("div",{style:{marginTop:"1rem"},children:[Object(h.jsx)(te,{children:"Audio"}),Object(h.jsx)("audio",{src:c.audioURL,controls:!0})]}),Object(h.jsx)(te,{children:"Texto detectado"}),Object(h.jsx)(st.a,{minRows:5,"aria-label":"texto detectado",placeholder:"Texto",readOnly:!0,value:c.speechToText}),c.imageURL&&Object(h.jsxs)("div",{style:{marginTop:"1rem"},children:[Object(h.jsx)(te,{children:"Imagen"}),Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:c.imageURL,alt:c.imageURL,style:{maxWidth:"800px"}})})]})]})})]})};var zt=function(){return Object(h.jsxs)(N.a,{variant:"body2",color:"textSecondary",align:"center",children:["Calificaci\xf3n de estudiantes","  ",(new Date).getFullYear(),"."]})},Bt=a(291),Wt=a(561),Yt=a(286),Vt=a.n(Yt);var Jt=function(){var e=Object(o.g)(),t=n.useState(null),a=Object(l.a)(t,2),c=a[0],s=a[1],r=m().logout,i=Boolean(c),d=function(){s(null)};return Object(h.jsxs)(n.Fragment,{children:[Object(h.jsx)(T.a,{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:Object(h.jsx)(Wt.a,{title:"Account settings",children:Object(h.jsx)(D.a,{onClick:function(e){s(e.currentTarget)},size:"small",sx:{ml:2},children:Object(h.jsx)(Ne.a,{sx:{width:32,height:32},children:"M"})})})}),Object(h.jsxs)(Bt.a,{anchorEl:c,open:i,onClose:d,onClick:d,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(h.jsxs)(ht.a,{onClick:function(){return e.push("/update-profile")},children:[Object(h.jsx)(Ne.a,{})," Mi Cuenta"]}),Object(h.jsx)(A.a,{}),Object(h.jsxs)(ht.a,{onClick:function(){return r()},children:[Object(h.jsx)(U.a,{children:Object(h.jsx)(Vt.a,{fontSize:"small"})}),"Logout"]})]})]})};var qt=function(){var e=Te(),t=Object(n.useState)(!0),a=Object(l.a)(t,2),c=a[0],s=a[1],r=m().currentUser;return r.uid,Object(n.useEffect)((function(){(function(){var e=Object(y.a)(f.a.mark((function e(){var t,a,n,c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.uid,e.next=3,fetch("".concat("http://localhost:5000","/api/professors/").concat(t));case 3:return a=e.sent,e.next=6,a.json();case 6:if("Professor not found!"!==(null===(n=e.sent)||void 0===n?void 0:n.message)){e.next=14;break}return c={professor_id:r.uid,username:r.displayName,name:r.displayName,email:r.email},e.next=11,fetch("".concat("http://localhost:5000","/api/professors"),{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 11:return s=e.sent,e.next=14,s.json();case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[r.uid,r.displayName,r.email]),Object(h.jsxs)("div",{className:e.root,children:[Object(h.jsx)(E.a,{}),Object(h.jsx)(_.a,{position:"absolute",className:Object(v.a)(e.appBar,c&&e.appBarShift),children:Object(h.jsxs)(C.a,{className:e.toolbar,children:[Object(h.jsx)(D.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){s(!0)},className:Object(v.a)(e.menuButton,c&&e.menuButtonHidden),children:Object(h.jsx)(k.a,{})}),Object(h.jsx)(N.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"Calificaciones de los estudiantes"}),Object(h.jsx)(Jt,{})]})}),Object(h.jsxs)(S.a,{variant:"permanent",classes:{paper:Object(v.a)(e.drawerPaper,!c&&e.drawerPaperClose)},open:c,children:[Object(h.jsx)("div",{className:e.toolbarIcon,children:Object(h.jsx)(D.a,{onClick:function(){s(!1)},children:Object(h.jsx)(P.a,{})})}),Object(h.jsx)(A.a,{}),Object(h.jsx)(w.a,{children:K}),Object(h.jsx)(A.a,{}),Object(h.jsx)(w.a,{children:Q})]}),Object(h.jsxs)("main",{className:e.content,children:[Object(h.jsx)("div",{className:e.appBarSpacer}),Object(h.jsxs)(R.a,{maxWidth:"lg",className:e.container,children:[Object(h.jsxs)(o.d,{children:[Object(h.jsx)(o.b,{path:"/alumnos",children:Object(h.jsx)(G.a,{container:!0,spacing:3,children:Object(h.jsx)(Rt,{})})}),Object(h.jsx)(o.b,{path:"/ejercicios",children:Object(h.jsx)(G.a,{container:!0,spacing:3,children:Object(h.jsx)(Mt,{})})}),Object(h.jsx)(o.b,{path:"/tareas",children:Object(h.jsx)(bt,{})}),Object(h.jsx)(o.b,{exact:!0,path:"/",children:Object(h.jsx)(G.a,{container:!0,spacing:3,children:Object(h.jsx)(yt,{})})}),Object(h.jsx)(o.b,{exact:!0,path:"/resumen-tarea/:deliverAssignmentId",children:Object(h.jsx)(G.a,{container:!0,spacing:3,children:Object(h.jsx)(Lt,{})})})]}),Object(h.jsx)(T.a,{pt:4,children:Object(h.jsx)(zt,{})})]})]})]})},Xt=a(293),Ht=["component"];function Kt(e){var t=e.component,a=Object(Xt.a)(e,Ht),n=m().currentUser;return Object(h.jsx)(o.b,Object(d.a)(Object(d.a)({},a),{},{render:function(e){return n?Object(h.jsx)(t,Object(d.a)({},e)):Object(h.jsx)(o.a,{to:"/login"})}}))}var Qt=a(544),Zt=a(547),$t=a(545),ea=a(546);function ta(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=m().login,c=Object(n.useState)(""),s=Object(l.a)(c,2),r=s[0],d=s[1],u=Object(n.useState)(!1),j=Object(l.a)(u,2),p=j[0],b=j[1],x=Object(o.g)(),O=Te(),g=function(){var n=Object(y.a)(f.a.mark((function n(c){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),n.prev=1,d(""),b(!0),n.next=6,a(e.current.value,t.current.value);case 6:x.push("/"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),d("Fallo el inicio de sesi\xf3n, por favor revisa que tu correo y contrase\xf1a sean correctos.");case 12:b(!1);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}();return Object(h.jsx)("div",{className:O.authContainer,children:Object(h.jsxs)(Qt.a,{className:O.authRoot,variant:"outlined",children:[Object(h.jsxs)($t.a,{children:[Object(h.jsx)(te,{children:"Inicial Sesi\xf3n"}),r&&Object(h.jsx)("span",{className:O.failureText,children:r}),Object(h.jsxs)("form",{onSubmit:g,children:[Object(h.jsx)(ye.a,{className:O.formGroup,children:Object(h.jsx)(pe.a,{id:"email",label:"Correo Electr\xf3nico",type:"email",inputRef:e,required:!0})}),Object(h.jsx)(ye.a,{className:O.formGroup,children:Object(h.jsx)(pe.a,{id:"password",label:"contrase\xf1a",type:"password",inputRef:t,required:!0})}),Object(h.jsx)("div",{style:{paddingTop:"1rem"},children:Object(h.jsx)(be.a,{variant:"contained",size:"large",color:"primary",type:"submit",children:"Iniciar sesi\xf3n"})}),p&&Object(h.jsxs)("div",{className:O.loadingContainer,children:[" ",Object(h.jsx)(ea.a,{})]})]})]}),Object(h.jsx)(Zt.a,{children:Object(h.jsx)(i.b,{to:"/forgot-password",children:"Olvidaste tu contrase\xf1a?"})}),Object(h.jsxs)(Zt.a,{children:["Necesitas una cuenta? ",Object(h.jsx)(i.b,{to:"/signup",children:"Registrarte"})]})]})})}function aa(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),c=m(),s=c.signup,r=c.currentUser,d=Object(n.useState)(""),u=Object(l.a)(d,2),j=u[0],p=u[1],b=Object(n.useState)(!1),x=Object(l.a)(b,2),O=x[0],g=x[1],v=Object(o.g)(),E=Te(),S=function(){var e=Object(y.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.uid){e.next=8;break}return t={professor_id:r.uid,username:r.displayName,name:r.displayName,email:r.email},e.next=4,fetch("".concat("http://localhost:5000","/api/professors"),{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return a=e.sent,e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var n=Object(y.a)(f.a.mark((function n(c){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.preventDefault(),t.current.value===a.current.value){n.next=3;break}return n.abrupt("return",p("Las contrase\xf1as no coinciden."));case 3:return n.prev=3,p(""),g(!0),n.next=8,s(e.current.value,t.current.value);case 8:return n.next=10,S();case 10:n.sent.message.includes("Professor created successfully")&&v.push("/"),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(3),p("Fallo el registro de tu cuenta, por favor revisa que tu correo esta correcto.");case 17:g(!1);case 18:case"end":return n.stop()}}),n,null,[[3,14]])})));return function(e){return n.apply(this,arguments)}}();return Object(h.jsx)("div",{className:E.authContainer,children:Object(h.jsxs)(Qt.a,{className:E.authRoot,variant:"outlined",children:[Object(h.jsxs)($t.a,{children:[Object(h.jsx)(te,{children:"Registar"}),j&&Object(h.jsx)("span",{className:E.failureText,children:j}),Object(h.jsxs)("form",{onSubmit:T,children:[Object(h.jsx)(ye.a,{className:E.formGroup,children:Object(h.jsx)(pe.a,{id:"email",label:"Correo Electr\xf3nico",type:"email",inputRef:e,required:!0})}),Object(h.jsx)(ye.a,{className:E.formGroup,children:Object(h.jsx)(pe.a,{id:"password",label:"contrase\xf1a",type:"password",inputRef:t,required:!0})}),Object(h.jsx)(ye.a,{className:E.formGroup,children:Object(h.jsx)(pe.a,{id:"password",label:"Confirmar contrase\xf1a",type:"password",inputRef:a,required:!0})}),Object(h.jsx)("div",{style:{paddingTop:"1rem"},children:Object(h.jsx)(be.a,{variant:"contained",size:"large",color:"primary",type:"submit",children:"Registrar"})}),O&&Object(h.jsxs)("div",{className:E.loadingContainer,children:[" ",Object(h.jsx)(ea.a,{})]})]})]}),Object(h.jsxs)(Zt.a,{children:["Ya cuentas con una cuenta? ",Object(h.jsx)(i.b,{to:"/login",children:"Iniciar sesi\xf3n"})]})]})})}function na(){var e=Object(n.useRef)(),t=m().resetPassword,a=Object(n.useState)(""),c=Object(l.a)(a,2),s=c[0],r=c[1],o=Object(n.useState)(""),d=Object(l.a)(o,2),u=d[0],j=d[1],p=Object(n.useState)(!1),b=Object(l.a)(p,2),x=b[0],O=b[1],g=Te(),v=function(){var a=Object(y.a)(f.a.mark((function a(n){return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,j(""),r(""),O(!0),a.next=7,t(e.current.value);case 7:j("Por favor revisa tu correo electr\xf3nico para actualizar tu contrase\xf1a."),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),r("fallo restablecer tu contrase\xf1a, vuelve a intentar");case 13:O(!1);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}();return Object(h.jsx)("div",{className:g.authContainer,children:Object(h.jsxs)(Qt.a,{className:g.authRoot,variant:"outlined",children:[Object(h.jsxs)($t.a,{children:[Object(h.jsx)(te,{children:"Restablecer contrase\xf1a"}),s&&Object(h.jsx)("span",{className:g.failureText,children:s}),u&&Object(h.jsx)("span",{className:g.sucessText,children:u}),Object(h.jsxs)("form",{onSubmit:v,children:[Object(h.jsx)(ye.a,{className:g.formGroup,children:Object(h.jsx)(pe.a,{id:"email",label:"Correo Electr\xf3nico",type:"email",inputRef:e,required:!0})}),Object(h.jsx)("div",{style:{paddingTop:"1rem"},children:Object(h.jsx)(be.a,{variant:"contained",size:"large",color:"primary",type:"submit",children:"Restablecer contrase\xf1a"})}),x&&Object(h.jsxs)("div",{className:g.loadingContainer,children:[" ",Object(h.jsx)(ea.a,{})]})]})]}),Object(h.jsxs)(Zt.a,{children:["Ya cuentas con una cuenta? ",Object(h.jsx)(i.b,{to:"/login",children:"Iniciar sesi\xf3n"})]})]})})}function ca(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),c=Object(n.useRef)(),s=m(),r=s.updateMyPassword,d=s.updateEmailAddress,u=s.currentUser,j=s.updateMyProfile,p=Object(n.useState)(""),b=Object(l.a)(p,2),x=b[0],O=b[1],g=Object(n.useState)(!1),f=Object(l.a)(g,2),y=f[0],v=f[1],E=Object(o.g)(),S=Te();return Object(h.jsx)("div",{className:S.authContainer,children:Object(h.jsxs)(Qt.a,{className:S.authRoot,variant:"outlined",children:[Object(h.jsxs)($t.a,{children:[Object(h.jsx)(te,{children:"Actualizar perfil"}),x&&Object(h.jsx)("span",{className:S.failureText,children:x}),Object(h.jsxs)("form",{onSubmit:function(n){if(n.preventDefault(),a.current.value!==c.current.value)return O("Las contrase\xf1as no coinciden");var s=[];e.current.value!==u.email&&s.push(d(e.current.value)),t.current.value&&t.current.value!==u.displayName&&s.push(j({displayName:t.current.value})),a.current.value&&s.push(r(a.current.value)),O(""),v(!0),Promise.all(s).then((function(){E.push("/")})).catch((function(e){O("Fallo actualizar tu perfile, por favor intentalo m\xe1s tarde."),console.log(e)})).finally((function(){v(!1)}))},children:[Object(h.jsx)(ye.a,{className:S.formGroup,children:Object(h.jsx)(pe.a,{id:"name",label:"Nombre",type:"text",inputRef:t,defaultValue:(null===u||void 0===u?void 0:u.displayName)&&u.displayName})}),Object(h.jsx)(ye.a,{className:S.formGroup,children:Object(h.jsx)(pe.a,{id:"email",label:"Correo Electr\xf3nico",type:"email",inputRef:e,required:!0,defaultValue:(null===u||void 0===u?void 0:u.email)&&u.email})}),Object(h.jsx)(ye.a,{className:S.formGroup,children:Object(h.jsx)(pe.a,{id:"password",label:"contrase\xf1a",type:"password",inputRef:a})}),Object(h.jsx)(ye.a,{className:S.formGroup,children:Object(h.jsx)(pe.a,{id:"password",label:"Confirmar contrase\xf1a",type:"password",inputRef:c})}),Object(h.jsx)("div",{style:{paddingTop:"1rem"},children:Object(h.jsx)(be.a,{variant:"contained",size:"large",color:"primary",type:"submit",children:"Actualizar"})}),y&&Object(h.jsxs)("div",{className:S.loadingContainer,children:[" ",Object(h.jsx)(ea.a,{})]})]})]}),Object(h.jsx)(Zt.a,{children:Object(h.jsx)(i.b,{to:"/",children:"Cancelar"})})]})})}a(467);var sa=function(){return Object(h.jsx)(i.a,{children:Object(h.jsx)(O,{children:Object(h.jsxs)(o.d,{children:[Object(h.jsx)(o.b,{path:"/signup",component:aa}),Object(h.jsx)(o.b,{path:"/login",component:ta}),Object(h.jsx)(o.b,{path:"/forgot-password",component:na}),Object(h.jsx)(o.b,{path:"/update-profile",component:ca}),Object(h.jsx)(Kt,{path:"/",component:qt})]})})})},ra=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,562)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(h.jsx)(sa,{}),document.getElementById("root")),ra()}},[[468,1,2]]]);
//# sourceMappingURL=main.b53d2362.chunk.js.map