(this["webpackJsonptelegram-teacher-dashboard"]=this["webpackJsonptelegram-teacher-dashboard"]||[]).push([[0],{321:function(e,t,n){},466:function(e,t,n){},467:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(30),s=n.n(r),i=(n(321),n(33)),o=n(38),d=n(8),l=n(16),u=n(67),j=n(255),p=Object(j.a)({apiKey:"AIzaSyAof1NlmpWos6aeQP9kKdAuSU3VoWKS9bE",authDomain:"telegram-counter-word-auth.firebaseapp.com",projectId:"telegram-counter-word-auth",storageBucket:"telegram-counter-word-auth.appspot.com",messagingSenderId:"157829608484",appId:"1:157829608484:web:06b1ab4ad77eca6f49d4b1"}),b=Object(u.b)(p),h=n(1),x=c.a.createContext();function m(){return Object(a.useContext)(x)}function O(e){var t=e.children,n=Object(a.useState)(),c=Object(l.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(!1),o=Object(l.a)(i,2),j=o[0],p=o[1];Object(a.useEffect)((function(){return Object(u.c)(b,(function(e){s(e),p(!1)}))}),[]);var m={currentUser:r,signup:function(e,t){return Object(u.a)(b,e,t)},login:function(e,t){return Object(u.e)(b,e,t)},logout:function(){return Object(u.f)(b)},resetPassword:function(e){return Object(u.d)(b,e)},updateEmailAddress:function(e){return Object(u.g)(b.currentUser,e)},updateMyPassword:function(e){return Object(u.h)(b.currentUser,e)},updateMyProfile:function(e){return Object(u.i)(b.currentUser,Object(d.a)({},e))}};return Object(h.jsx)(x.Provider,{value:m,children:!j&&t})}var f=n(2),g=n.n(f),y=n(4),v=n(9),E=n(540),S=n(555),_=n(547),T=n(541),C=n(537),w=n(519),N=n(145),A=n(539),D=n(522),R=n(542),G=n(538),I=n(286),k=n.n(I),M=n(287),P=n.n(M),F=n(469),U=n(509),L=n(510),z=n(511),B=n(256),W=n.n(B),Y=n(257),V=n.n(Y),J=n(258),X=n.n(J),q=n(259),H=n.n(q),K=Object(h.jsxs)("div",{children:[Object(h.jsxs)(F.a,{button:!0,children:[Object(h.jsx)(U.a,{children:Object(h.jsx)(W.a,{})}),Object(h.jsx)(i.b,{to:"/",children:Object(h.jsx)(L.a,{primary:"Inicio"})})]}),Object(h.jsxs)(F.a,{button:!0,children:[Object(h.jsx)(U.a,{children:Object(h.jsx)(V.a,{})}),Object(h.jsx)(i.b,{to:"/alumnos",children:Object(h.jsx)(L.a,{primary:"Alumnos"})})]}),Object(h.jsxs)(F.a,{button:!0,children:[Object(h.jsx)(U.a,{children:Object(h.jsx)(X.a,{})}),Object(h.jsx)(i.b,{to:"/ejercicios",children:Object(h.jsx)(L.a,{primary:"Ejercicios"})})]})]}),Q=Object(h.jsxs)("div",{children:[Object(h.jsx)(z.a,{inset:!0,children:"Reportes"}),Object(h.jsxs)(F.a,{button:!0,children:[Object(h.jsx)(U.a,{children:Object(h.jsx)(H.a,{})}),Object(h.jsx)(i.b,{to:"/tareas",children:Object(h.jsx)(L.a,{primary:"Tareas"})})]})]}),Z=n(295),$=n(554);function ee(e){return Object(h.jsx)(N.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0,children:e.children})}var te=ee,ne=n(512),ae=n(513),ce=n(517),re=n(275),se=n(276),ie=n(144),oe=n(141),de=n(291);function le(e){var t=e.rows;return Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(te,{children:"Comparaci\xf3n palabras en lecturas con promedio palabras detectadas en audios"}),Object(h.jsx)(ne.a,{width:"100%",height:"100%",children:Object(h.jsxs)(ae.a,{width:500,height:300,data:t,margin:{top:5,right:30,left:20,bottom:5},children:[Object(h.jsx)(ce.a,{strokeDasharray:"3 3"}),Object(h.jsx)(re.a,{dataKey:"name"}),Object(h.jsx)(se.a,{}),Object(h.jsx)(ie.a,{}),Object(h.jsx)(oe.a,{}),Object(h.jsx)(de.a,{type:"monotone",dataKey:"cantidad_palabras_detectadas",stroke:"#8884d8",activeDot:{r:8}}),Object(h.jsx)(de.a,{type:"monotone",dataKey:"cantidad_palabras_en_lectura",stroke:"#82ca9d"})]})})]})}var ue=n(22),je=n(535),pe=n(553),be=n(523),he=n(119),xe=n.n(he),me=n(92),Oe=n.n(me),fe=n(524),ge=n(558),ye=n(5),ve=n(518),Ee=Object(ve.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(d.a)({background:"#3f51b5",display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(ye.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},formGroup:{margin:"1rem 0"},textFullWidth:{width:"95%"},review:{display:"grid",width:"100%",gridTemplateColumns:"1fr 1fr 1fr",height:"200px"},studentForm:{width:"100%",display:"grid",gridTemplateColumns:"80% 20%"},addStudent:{width:"100%",display:"grid",gridTemplateColumns:"40% 40% 20%"},addStudentField:{display:"flex",flexDirection:"column",margin:"0 0.3rem"},authRoot:{minWidth:600,padding:"2rem 0.5rem"},failureText:{fontSize:"0.8rem",color:"#f44336"},sucessText:{fontSize:"0.8rem",color:"rgb(30, 70, 32)"},loadingContainer:{display:"grid",justifyContent:"center",alignContent:"center"},authContainer:{background:"#f4f4f4",display:"grid",justifyContent:"center",alignContent:"center",width:"100vw",height:"100vh"}}})),Se={openGroupModal:"OPEN_GROUP_MODAL",setGroup:"SET_GROUP",setName:"SET_NAME",setAction:"SET_ACTION",setStudentName:"SET_STUDENT_NAME",setStudentId:"SET_STUDENT_ID",addStudent:"ADD_STUDENT",removeStudent:"REMOVE_STUDENT"},_e=n(520),Te=n(521),Ce=n(557),we=n(277),Ne=n.n(we),Ae=n(165),De=n.n(Ae);var Re=function(e){var t=e.group,n=e.onClose,a=e.handleRemoveStudent,c=e.showCloseButton,r=void 0===c||c,s=e.removeMembers,i=void 0!==s&&s,o=e.state,d=e.dispatch,l=Ee();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{children:"Estudiantes"}),Object(h.jsx)(w.a,{style:{width:"100%",overflow:"auto",maxHeight:300},children:t.students.filter((function(e){return null!==e.student_id})).map((function(e){return Object(h.jsxs)(F.a,{children:[Object(h.jsx)(_e.a,{children:Object(h.jsx)(Ce.a,{children:Object(h.jsx)(Ne.a,{})})}),Object(h.jsx)(L.a,{primary:"".concat(e.username,"(").concat(e.student_id,")")}),i&&Object(h.jsx)(Te.a,{children:Object(h.jsx)(D.a,{edge:"end","aria-label":"delete",onClick:function(){a(e.student_id,o,d)},children:Object(h.jsx)(De.a,{})})})]},"student-".concat(e.student_id))}))}),r&&Object(h.jsx)(be.a,{variant:"contained",size:"large",className:l.button,startIcon:Object(h.jsx)(Oe.a,{}),type:"button",onClick:n,style:{marginRight:"1rem"},children:"Cerrar"})]})};var Ge=function(e){var t=e.group,n=e.handleCancel,a=e.handleSubmit,c=e.handleRemoveStudent,r=e.state,s=e.dispatch,i=e.editable,o=void 0===i||i,d=e.action,l=void 0===d?"MODIFY":d,u=Ee();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(fe.a,{className:u.formGroup,children:[Object(h.jsx)(ge.a,{htmlFor:"nombre",children:"Nombre"}),Object(h.jsx)(pe.a,{id:"nombre",placeholder:"Ingresa el nombre del grupo",value:t.name,onChange:function(e){return s({type:Se.setName,payload:{name:e.target.value}})},disabled:!o})]}),Object(h.jsxs)(fe.a,{className:u.formGroup,children:[Object(h.jsx)(ge.a,{htmlFor:"nombre",children:"Token"}),Object(h.jsx)(pe.a,{id:"token",placeholder:"token",value:t.token,disabled:!0})]}),Object(h.jsx)(fe.a,{className:u.formGroup,children:Object(h.jsx)(Re,{group:{students:t.students},showCloseButton:!1,removeMembers:!0,state:r,dispatch:s,handleRemoveStudent:c})}),Object(h.jsxs)("div",{style:{marginTop:"1rem"},children:[Object(h.jsx)(be.a,{variant:"contained",size:"large",className:u.button,startIcon:Object(h.jsx)(Oe.a,{}),type:"button",onClick:n,style:{marginRight:"1rem"},children:"Cancelar"}),o&&Object(h.jsx)(be.a,{variant:"contained",color:"primary",size:"large",className:u.button,startIcon:Object(h.jsx)(xe.a,{}),type:"submit",onClick:function(e){return a(e,l)},children:"Guardar"})]})]})},Ie=n(550),ke=n(529),Me=n(472),Pe=Object(ve.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{width:"60vw",height:"80vh",overflow:"auto",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function Fe(e){var t=e.buttonTitle,n=e.title,a=e.children,c=e.open,r=e.setOpen,s=e.showButton,i=void 0===s||s,o=Pe();return Object(h.jsxs)("div",{children:[i&&Object(h.jsx)(be.a,{variant:"contained",color:"primary",onClick:function(){r(!0)},children:t}),Object(h.jsx)(Ie.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:o.modal,open:c,onClose:function(){r(!1)},closeAfterTransition:!0,BackdropComponent:ke.a,BackdropProps:{timeout:500},children:Object(h.jsx)(Me.a,{in:c,children:Object(h.jsxs)("div",{className:o.paper,children:[Object(h.jsx)("h2",{id:"transition-modal-title",children:n}),a]})})})]})}var Ue=Fe,Le={openGroup:!1,group:{name:"",students:[],token:"",group_id:""},student:{name:"",id:""},action:"MODIFY",groups:[]};function ze(e,t){switch(t.type){case Se.openGroupModal:return Object(d.a)(Object(d.a)({},e),{},{openGroup:t.payload.openGroup});case Se.setGroup:return Object(d.a)(Object(d.a)({},e),{},{group:Object(d.a)({},t.payload.group)});case Se.setName:return Object(d.a)(Object(d.a)({},e),{},{group:Object(d.a)(Object(d.a)({},e.group),{},{name:t.payload.name})});case Se.setStudentName:return Object(d.a)(Object(d.a)({},e),{},{student:Object(d.a)(Object(d.a)({},e.student),{},{name:t.payload.studentName})});case Se.setStudentId:return Object(d.a)(Object(d.a)({},e),{},{student:Object(d.a)(Object(d.a)({},e.student),{},{id:t.payload.studentId})});case Se.addStudent:return Object(d.a)(Object(d.a)({},e),{},{group:Object(d.a)(Object(d.a)({},e.group),{},{students:[].concat(Object(ue.a)(e.group.students),[t.payload.student])}),student:{name:"",id:""}});case Se.removeStudent:return Object(d.a)(Object(d.a)({},e),{},{group:Object(d.a)(Object(d.a)({},e.group),{},{students:Object(ue.a)(e.group.students.filter((function(e){return e.student_id!==t.payload.student_id})))})});case Se.setAction:return Object(d.a)(Object(d.a)({},e),{},{action:t.payload.action});default:return e}}function Be(e,t,n){n({type:Se.removeStudent,payload:{student_id:e}})}var We=n(206),Ye=n(530),Ve=n(534),Je=n(533),Xe=n(531),qe=n(532),He=n(552),Ke=n(280),Qe=n.n(Ke),Ze=n(279),$e=n.n(Ze),et=n(278),tt=Object(ve.a)((function(e){return{seeMore:{marginTop:e.spacing(2)}}}));function nt(e){var t=e.handleModify,n=e.handleDelete,r=e.title,s=e.headers,i=void 0===s?[]:s,o=e.rows,d=void 0===o?[]:o,u=e.showActions,j=void 0!==u&&u,p=tt(),b=Object(a.useState)(0),x=Object(l.a)(b,2),m=x[0],O=x[1],f=Object(a.useState)(5),g=Object(l.a)(f,2),y=g[0],v=g[1];return Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(te,{children:r}),Object(h.jsxs)(Ye.a,{size:"small",children:[Object(h.jsx)(Xe.a,{children:Object(h.jsx)(qe.a,{children:i.length>=0&&i.map((function(e){return Object(h.jsx)(Je.a,{children:e},e)}))})}),Object(h.jsx)(Ve.a,{children:d.slice(m*y,m*y+y).map((function(e){var a=Object(We.a)(e),c=a[0],r=a.slice(1);return Object(h.jsxs)(qe.a,{children:[r.map((function(e){return e&&"object"===typeof e?Object(h.jsx)(Je.a,{children:Object(h.jsx)(je.a,{component:"button",onClick:e.onClick,children:e.text})},"".concat(c,"-").concat(e.id,"-").concat(e.text,"-").concat(Math.random())):Object(h.jsx)(Je.a,{children:e},"".concat(c,"-").concat(e,"-").concat(Math.random()))})),j?Object(h.jsx)(Je.a,{children:Object(h.jsxs)("label",{htmlFor:"icon-button-file",style:{marginRight:"1rem"},children:[Object(h.jsx)(D.a,{color:"primary","aria-label":"modify an exercise",component:"span",onClick:function(e){return t(c)},children:Object(h.jsx)($e.a,{})}),Object(h.jsx)(D.a,{color:"primary","aria-label":"delete an exercise",component:"span",onClick:function(e){return n(c)},children:Object(h.jsx)(De.a,{})})]})}):null]},"".concat(c,"-").concat(Math.random()))}))})]}),Object(h.jsx)(He.a,{component:"div",count:d.length,page:(null===d||void 0===d?void 0:d.length)?m:0,onPageChange:function(e,t){O(t)},rowsPerPage:y,onRowsPerPageChange:function(e){v(parseInt(e.target.value,10)),O(0)}}),Object(h.jsx)("div",{className:p.seeMore,children:Object(h.jsxs)(et.CSVLink,{data:[i].concat(Object(ue.a)(d.map((function(e){var t=Object(We.a)(e).slice(1);return"object"===typeof t[0]&&"object"===typeof t[1]?[t[0].text,t[1].text,t[2]]:"object"===typeof t[0]&&"string"===typeof t[1]?[t[0].text,t[1],t[2]]:t})))),filename:"exportar.csv",children:["Exportar como csv",Object(h.jsx)(Qe.a,{style:{fontSize:"1.2rem",position:"relative",top:".4rem"}})]})})]})}var at=n(471),ct={openExerciseModal:"OPEN_EXERCISE_MODAL",setExercise:"SET_EXERCISE",setTitle:"SET_TITLE",setDescription:"SET_DESCRIPTION",setWordsAmount:"SET_WORDS_AMOUNT",setExercises:"SET_EXERCISES",setAction:"SET_ACTION",setExerciseImage:"SET_EXERCISE_IMAGE",setImageSrc:"SET_IMAGE_SRC"},rt=n(289);var st=function(e){var t=e.exercise,n=e.handleCancel,c=e.handleSubmit,r=e.dispatch,s=e.editable,i=void 0===s||s,o=e.action,d=void 0===o?"CREATE":o,u=Ee(),j=Object(a.useState)(),p=Object(l.a)(j,2),b=p[0],x=p[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(fe.a,{className:u.formGroup,children:[Object(h.jsx)(ge.a,{htmlFor:"titulo",children:"Titulo"}),Object(h.jsx)(pe.a,{id:"titulo",placeholder:"Titulo",value:t.title,onChange:function(e){return r({type:ct.setTitle,payload:{title:e.target.value}})},disabled:!i})]}),Object(h.jsxs)(fe.a,{className:u.formGroup,children:[Object(h.jsx)(ge.a,{htmlFor:"descripcion",children:"Descripci\xf3n"}),Object(h.jsx)(at.a,{"aria-label":"Descripci\xf3n",minRows:10,placeholder:"Ingresa una descripci\xf3n",value:t.description,onChange:function(e){return r({type:ct.setDescription,payload:{description:e.target.value}})},disabled:!i})]}),Object(h.jsxs)(fe.a,{className:u.formGroup,children:[Object(h.jsx)(ge.a,{htmlFor:"cantidad-palabras",children:"Cantidad de palabras en el texto"}),Object(h.jsx)(pe.a,{id:"cantidad-palabras",label:"",type:"number",InputLabelProps:{shrink:!0},value:t.wordsAmount,onChange:function(e){return r({type:ct.setWordsAmount,payload:{wordsAmount:e.target.value}})},disabled:!i})]}),Object(h.jsxs)(fe.a,{className:u.formGroup,style:{marginBottom:"5rem"},children:[Object(h.jsx)(ge.a,{htmlFor:"Imagen",children:"Imagen"}),Object(h.jsx)(rt.a,{handleImageSelect:function(e){x(URL.createObjectURL(e.target.files[0])),r({type:ct.setExerciseImage,payload:{exercise_image:e.target.files[0].name}});var t=e.target.files,n=new FormData;n.append("image",t[0]),fetch("".concat("","/image"),{method:"POST",body:n}).then((function(e){return e.json()})).then((function(e){})).catch((function(e){console.error(e)}))},imageSrc:b,setImageSrc:x,style:{width:400,height:250,background:"#f4f4f4"}})]}),Object(h.jsxs)("div",{style:{marginTop:"1rem"},children:[Object(h.jsx)(be.a,{variant:"contained",size:"large",className:u.button,startIcon:Object(h.jsx)(Oe.a,{}),type:"button",onClick:n,style:{marginRight:"1rem"},children:"Cancelar"}),i&&Object(h.jsx)(be.a,{variant:"contained",color:"primary",size:"large",className:u.button,startIcon:Object(h.jsx)(xe.a,{}),type:"submit",onClick:function(e){return c(e,d)},children:"Guardar"})]})]})},it=["Ejercicio","Grupo","Fecha de Entrega","Acciones"],ot={openAssignmentModal:"OPEN_ASSIGNMENT_MODAL",setAssignment:"SET_ASSIGNMENT",setGroup:"SET_GROUP",setDueDate:"SET_DUE_DATE",setExercise:"SET_EXERCISE",setAssignments:"SET_ASSIGNMENTS",setGroups:"SET_GROUPS",openGroupModal:"OPEN_GROUP_MODAL",setExercises:"SET_EXERCISES",setGroupSelected:"SET_GROUP_SELECTED",openExerciseModal:"OPEN_EXERCISE_MODAL",setExerciseSelected:"SET_EXERCISE_SELECTED",setAction:"SET_ACTION"},dt={openAssignment:!1,assignment:{assignment_id:null,group:{id:"",text:""},dueDate:"",exercise:{id:"",text:""}},assignments:[],groups:[],openGroup:!1,exercises:[],groupSelected:{group_id:null,name:"",students:[]},openExercise:!1,exerciseSelected:{exercise_id:null,title:"",description:""},action:"CREATE"};function lt(e,t){switch(t.type){case ot.openAssignmentModal:return Object(d.a)(Object(d.a)({},e),{},{openAssignment:t.payload.openAssignment});case ot.setAssignment:return Object(d.a)(Object(d.a)({},e),{},{assignment:Object(d.a)(Object(d.a)({},e.assignment),t.payload.assignment)});case ot.setGroup:return Object(d.a)(Object(d.a)({},e),{},{assignment:Object(d.a)(Object(d.a)({},e.assignment),{},{group:Object(d.a)({},t.payload.group)})});case ot.setDueDate:return Object(d.a)(Object(d.a)({},e),{},{assignment:Object(d.a)(Object(d.a)({},e.assignment),{},{dueDate:t.payload.dueDate})});case ot.setExercise:return Object(d.a)(Object(d.a)({},e),{},{assignment:Object(d.a)(Object(d.a)({},e.assignment),{},{exercise:Object(d.a)({},t.payload.exercise)})});case ot.setAssignments:return Object(d.a)(Object(d.a)({},e),{},{assignments:Object(ue.a)(t.payload.assignments)});case ot.openGroupModal:return Object(d.a)(Object(d.a)({},e),{},{openGroup:t.payload.openGroup});case ot.setGroups:return Object(d.a)(Object(d.a)({},e),{},{groups:Object(ue.a)(t.payload.groups)});case ot.setExercises:return Object(d.a)(Object(d.a)({},e),{},{exercises:Object(ue.a)(t.payload.exercises)});case ot.setGroupSelected:return Object(d.a)(Object(d.a)({},e),{},{groupSelected:Object(d.a)(Object(d.a)({},e.groupSelected),t.payload.groupSelected)});case ot.openExerciseModal:return Object(d.a)(Object(d.a)({},e),{},{openExercise:t.payload.openExercise});case ot.setExerciseSelected:return Object(d.a)(Object(d.a)({},e),{},{exerciseSelected:Object(d.a)(Object(d.a)({},e.exerciseSelected),t.payload.exerciseSelected)});case ot.setAction:return Object(d.a)(Object(d.a)({},e),{},{action:t.payload.action});default:return e}}function ut(e){var t=new Date(e);return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")}function jt(){var e=Ee(),t=Object(a.useReducer)(lt,dt),n=Object(l.a)(t,2),c=n[0],r=n[1],s=m().currentUser;Object(a.useEffect)((function(){(function(){var e=Object(y.a)(g.a.mark((function e(){var t,n,a,c,i,o,d,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.uid,e.next=3,fetch("".concat("","/api/groups?professor_id=").concat(t),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:if(!(null===(a=e.sent)||void 0===a?void 0:a.groups)){e.next=10;break}return e.next=10,r({type:ot.setGroups,payload:{groups:Object(ue.a)(a.groups)}});case 10:return e.next=12,fetch("".concat("","/api/exercises?professor_id=").concat(t),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}});case 12:return c=e.sent,e.next=15,c.json();case 15:return i=e.sent,o=i.map((function(e){return{exercise_id:e.exercise_id,name:e.title}})),e.next=19,r({type:ot.setExercises,payload:{exercises:Object(ue.a)(o)}});case 19:return e.next=21,fetch("".concat("","/api/assignments?professor_id=").concat(t),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}});case 21:return d=e.sent,e.next=24,d.json();case 24:return l=e.sent,e.next=27,r({type:ot.setAssignments,payload:{assignments:Object(ue.a)(l)}});case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s.uid]);return Object(h.jsxs)(G.a,{container:!0,spacing:3,children:[Object(h.jsxs)($.a,{"aria-label":"breadcrumb",children:[Object(h.jsx)(i.b,{to:"/",children:"Inicio"}),Object(h.jsx)(N.a,{color:"textPrimary",children:"Tareas"})]}),Object(h.jsx)(G.a,{item:!0,xs:12,children:Object(h.jsxs)(Z.a,{className:e.paper,children:[Object(h.jsx)(te,{children:"Crear una nueva tarea"}),Object(h.jsx)(Fe,{buttonTitle:"grupo",title:"Grupo: ".concat(c.groupSelected.name),open:c.openGroup,setOpen:function(e){r({type:ot.openGroupModal,payload:{openGroup:e}})},showButton:!1,children:Object(h.jsx)(Re,{group:c.groupSelected,onClose:function(){return r({type:ot.openGroupModal,payload:{openGroup:!1}})}})}),Object(h.jsx)(Fe,{buttonTitle:"Ejercicio",title:"Ejercicio: ".concat(c.exerciseSelected.title),open:c.openExercise,setOpen:function(e){r({type:ot.openExerciseModal,payload:{openExercise:e}})},showButton:!1,children:Object(h.jsx)(st,{exercise:Object(d.a)(Object(d.a)({},c.exerciseSelected),{},{wordsAmount:c.exerciseSelected.words_amount}),handleCancel:function(e){return r({type:ot.openExerciseModal,payload:{openExercise:!1}})},editable:!1,dispatch:r})}),Object(h.jsx)(Fe,{buttonTitle:"Crear",title:"Crear Tarea",open:c.openAssignment,setOpen:function(e){r({type:ot.openAssignmentModal,payload:{openAssignment:e}}),r({type:ot.setAction,payload:{action:"CREATE"}})},children:Object(h.jsx)(ht,{assignment:c.assignment,exercises:c.exercises,groups:c.groups,handleSubmit:function(e){return xt(e,c,r)},dispatch:r,action:c.action})})]})}),Object(h.jsx)(G.a,{item:!0,xs:12,children:Object(h.jsx)(Z.a,{className:e.paper,children:Object(h.jsx)(nt,{title:"Tareas",headers:it,rows:c.assignments.map((function(e){return[e.assignment_id,{id:e.exercise.exercise_id,text:e.exercise.title,onClick:function(t){return function(e,t){r({type:ot.openExerciseModal,payload:{openExercise:!0}});var n=t.find((function(t){return t.exercise_id===e}));n&&r({type:ot.setExerciseSelected,payload:{exerciseSelected:n}})}(e.exercise.exercise_id,c.exercises)}},{id:e.group.group_id,text:e.group.group_name,onClick:function(t){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];r({type:ot.openGroupModal,payload:{openGroup:!0}});var n=t.find((function(t){return t.group_id===e}));n&&r({type:ot.setGroupSelected,payload:{groupSelected:n}})}(e.group.group_id,c.groups)}},ut(e.due_date)]})),resource:"assignments",handleModify:function(e){r({type:ot.setAction,payload:{action:"MODIFY"}});var t=c.assignments.find((function(t){return t.assignment_id===e}));if(t){var n=Object(d.a)(Object(d.a)({},t),{},{group:{id:t.group.group_id,text:t.group.group_name},exercise:{id:t.exercise.exercise_id,text:t.exercise.title},dueDate:ut(t.due_date)});r({type:ot.setAssignment,payload:{assignment:Object(d.a)({},n)}})}r({type:ot.openAssignmentModal,payload:{openAssignment:!0}})},handleDelete:function(e){fetch("".concat("","/api/assignments/").concat(e),{method:"DELETE",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json()})).then((function(t){"Assignment deleted!"===t.message&&r({type:ot.setAssignments,payload:{assignments:c.assignments.filter((function(t){return t.assignment_id!==e}))}})}))},showActions:!0})})})]})}var pt=n(536),bt=n(549);var ht=function(e){var t=e.assignment,n=e.exercises,a=e.groups,c=e.dispatch,r=e.handleSubmit,s=e.action,i=void 0===s?"CREATE":s,o=Ee();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(fe.a,{className:o.formGroup,children:[Object(h.jsx)(ge.a,{id:"demo-simple-select-label",children:"Ejercicio"}),Object(h.jsx)(bt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:t.exercise.id,onChange:function(e){var t=n.find((function(t){return t.exercise_id===e.target.value}));c({type:ot.setExercise,payload:{exercise:{id:e.target.value,text:t.name}}})},children:n.map((function(e){return Object(h.jsx)(pt.a,{value:e.exercise_id,children:e.name},"exercise-".concat(e.exercise_id))}))})]}),Object(h.jsxs)(fe.a,{className:o.formGroup,children:[Object(h.jsx)(ge.a,{id:"demo-simple-select-label",children:"Grupo"}),Object(h.jsx)(bt.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:t.group.id,onChange:function(e){var t=a.find((function(t){return t.group_id===e.target.value}));c({type:ot.setGroup,payload:{group:{id:e.target.value,text:t.name}}})},children:a.map((function(e){return Object(h.jsx)(pt.a,{value:e.group_id,children:e.name},"group-".concat(e.group_id))}))})]}),Object(h.jsx)(fe.a,{className:o.formGroup,children:Object(h.jsx)(pe.a,{id:"standard-number",label:"Fecha de Entrega",type:"date",InputLabelProps:{shrink:!0},value:t.dueDate,onChange:function(e){return c({type:ot.setDueDate,payload:{dueDate:e.target.value}})}})}),Object(h.jsxs)("div",{style:{marginTop:"1rem"},children:[Object(h.jsx)(be.a,{variant:"contained",size:"large",className:o.button,startIcon:Object(h.jsx)(Oe.a,{}),type:"button",onClick:function(e){c({type:ot.openAssignmentModal,payload:{openAssignment:!1}}),c({type:ot.setAssignment,payload:{assignment:{assignment_id:null,group:{id:null,text:""},dueDate:"",exercise:{id:null,text:""}}}})},style:{marginRight:"1rem"},children:"Cancelar"}),Object(h.jsx)(be.a,{variant:"contained",color:"primary",size:"large",className:o.button,startIcon:Object(h.jsx)(xe.a,{}),type:"submit",onClick:function(e){return r(e,i)},children:"Guardar"})]})]})};function xt(e,t,n){e.preventDefault();var a={due_date:t.assignment.dueDate,exercise_id:t.assignment.exercise.id,group_id:t.assignment.group.id},c=null;if("CREATE"===t.action)c=fetch("".concat("","/api/assignments"),{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});else{if("MODIFY"!==t.action)return;c=fetch("".concat("","/api/assignments/").concat(t.assignment.assignment_id),{method:"PUT",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})}c.then((function(e){if(e.ok)return e.json()})).then((function(e){var c=Object(d.a)(Object(d.a)({},t.assignment),{},{assignment_id:"CREATE"===t.action?e.assignment.assignment_id:t.assignment.assignment_i,group:{group_id:t.assignment.group.id,group_name:t.assignment.group.text},exercise:{exercise_id:t.assignment.exercise.id,title:t.assignment.exercise.text},due_date:new Date("".concat(a.due_date,"T00:00:00")).toISOString()});if("CREATE"===t.action&&n({type:ot.setAssignments,payload:{assignments:[].concat(Object(ue.a)(t.assignments),[c])}}),"MODIFY"===t.action){var r=t.assignments.filter((function(e){return e.assignment_id!==t.assignment.assignment_id}));n({type:ot.setAssignments,payload:{assignments:[].concat(Object(ue.a)(r),[c])}})}n({type:ot.setAssignment,payload:{assignment:{assignment_id:null,group:{id:"",text:""},dueDate:"",exercise:{id:"",text:""}}}}),n({type:ot.openAssignmentModal,payload:{openAssignment:!1}})})).catch((function(e){return console.log(e)}))}var mt=function(){var e=Object(a.useReducer)(ze,Le),t=Object(l.a)(e,2),n=t[0],r=t[1],s=Object(a.useReducer)(lt,dt),i=Object(l.a)(s,2),o=i[0],u=i[1],j=m().currentUser,p=j.uid;return Object(a.useEffect)((function(){var e=function(){var e=Object(y.a)(g.a.mark((function e(){var t,n,a,c,s,i,o,d;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.uid,e.next=3,fetch("".concat("","/api/groups?professor_id=").concat(t),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:if(!(null===(a=e.sent)||void 0===a?void 0:a.groups)){e.next=12;break}return e.next=10,u({type:ot.setGroups,payload:{groups:Object(ue.a)(a.groups)}});case 10:return e.next=12,r({type:Se.setGroup,payload:{group:(l=a.groups[a.groups.length-1],{name:l.name,group_id:l.group_id,token:l.token,students:Object(ue.a)(l.students.filter((function(e){return null!==e.student_id})))})}});case 12:return e.next=14,fetch("".concat("","/api/exercises?professor_id=").concat(t),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}});case 14:return c=e.sent,e.next=17,c.json();case 17:return s=e.sent,i=s.map((function(e){return{exercise_id:e.exercise_id,name:e.title}})),e.next=21,u({type:Se.setExercises,payload:{exercises:Object(ue.a)(i)}});case 21:return e.next=23,fetch("".concat("","/api/assignments?professor_id=").concat(t),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}});case 23:return o=e.sent,e.next=26,o.json();case 26:return d=e.sent,e.next=29,u({type:ot.setAssignments,payload:{assignments:Object(ue.a)(d)}});case 29:case"end":return e.stop()}var l}),e)})));return function(){return e.apply(this,arguments)}}();setTimeout((function(){e()}),2e3)}),[j.uid]),Object(h.jsxs)(c.a.Fragment,{children:[Object(h.jsx)(ee,{children:"Crear nueva tarea"}),Object(h.jsx)(Ue,{buttonTitle:"Crear",title:"Crear Tarea",open:o.openAssignment,setOpen:function(e){u({type:ot.openAssignmentModal,payload:{openAssignment:e}}),u({type:ot.setAction,payload:{action:"CREATE"}})},children:Object(h.jsx)(ht,{assignment:o.assignment,exercises:o.exercises,groups:o.groups,handleSubmit:function(e){return xt(e,o,u)},dispatch:u,action:o.action})}),Object(h.jsx)("div",{style:{marginTop:"1rem"},children:Object(h.jsx)(je.a,{href:"#",onClick:function(){return r({type:Se.openGroupModal,payload:{openGroup:!n.openGroup}})},children:"Ver mi grupo"})}),Object(h.jsx)(Ue,{buttonTitle:"Ver mi grupo",title:"Mi grupo",open:n.openGroup,showButton:!1,setOpen:function(){r({type:Se.openGroupModal,payload:{openGroup:!n.openGroup}}),r({type:Se.setAction,payload:{action:"CREATE"}})},children:Object(h.jsx)(Ge,{group:n.group,student:n.student,handleCancel:function(e){r({type:Se.openGroupModal,payload:{openGroup:!1}})},handleSubmit:function(e){return function(e,t,n,a){e.preventDefault();var c=null,r={name:t.group.name,students:t.group.students.map((function(e){return e.student_id})),professor_id:a,token:t.group.token};if("CREATE"===t.action)c=fetch("".concat("","/api/groups"),{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});else{if("MODIFY"!==t.action)return;c=fetch("".concat("","/api/groups/").concat(t.group.group_id),{method:"PUT",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})}c.then((function(e){if(e.ok)return e.json()})).then((function(e){if("CREATE"===t.action&&n({type:Se.setGroups,payload:{groups:[].concat(Object(ue.a)(t.groups),[Object(d.a)(Object(d.a)({},r),{},{group_id:e.group.group_id})])}}),"MODIFY"===t.action){var a=t.groups.filter((function(e){return e.group_id!==t.group.group_id}));n({type:Se.setGroups,payload:{groups:[].concat(Object(ue.a)(a),[Object(d.a)(Object(d.a)({},r),{},{group_id:t.group.group_id})])}})}n({type:Se.openGroupModal,payload:{openGroup:!1}})})).catch((function(e){return console.log(e)}))}(e,n,r,p)},handleAddStudent:function(e){return function(e,t,n){e.preventDefault();var a={username:t.student.name,student_id:t.student.id};fetch("".concat("","/api/students/").concat(a.student_id),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){return 200===e.status?"PUT":404===e.status?"POST":void 0})).then((function(e){fetch("".concat("","/api/students")+("PUT"===e?"/".concat(a.student_id):""),{method:e,mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){if(e.ok)return e.json()})).then((function(e){n({type:Se.addStudent,payload:{student:{student_id:t.student.id,username:t.student.name}}})}))})).catch((function(e){console.log(e)}))}(e,n,r)},handleRemoveStudent:Be,dispatch:r,state:n,editable:!0,action:"CREATE"})})]})},Ot=["Tarea","Fecha de Entrega M\xe1xima","Cantidad de Tareas Recibidas"];function ft(){var e=Ee(),t=Object(v.a)(e.paper,e.fixedHeight),n=Object(a.useReducer)(vt,yt),c=Object(l.a)(n,2),r=c[0],s=c[1],i=m().currentUser;return Object(a.useEffect)((function(){var e=i.uid;fetch("".concat("","/api/deliver-assignments/last-delivers?professor_id=").concat(e),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json()})).then((function(e){if(e){var t=e.map((function(e){return[e.assignment_id,e.title,ut(e.due_date),e.total_delivers]}));s({type:gt.getDelivers,payload:{delivers:t}})}})).catch((function(e){return console.log(e)}))}),[i.uid]),Object(a.useEffect)((function(){var e=i.uid;fetch("".concat("","/api/deliver-assignments/average-delivers?professor_id=").concat(e),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json()})).then((function(e){if(e){var t=e.map((function(e){return{name:e.title,cantidad_palabras_detectadas:e.avg_words_amount,cantidad_palabras_en_lectura:e.words_amount}}));s({type:gt.getAverageDeliverResults,payload:{averageDeliverResults:t}})}})).catch((function(e){return console.log(e)}))}),[i.uid]),Object(h.jsxs)(G.a,{container:!0,spacing:3,children:[Object(h.jsx)(G.a,{item:!0,xs:12,md:8,lg:9,children:Object(h.jsx)($.a,{"aria-label":"breadcrumb",children:Object(h.jsx)(N.a,{color:"textPrimary",children:"Inicio"})})}),Object(h.jsx)(G.a,{item:!0,xs:12,md:8,lg:9,children:Object(h.jsx)(Z.a,{className:t,children:Object(h.jsx)(le,{rows:r.averageDeliverResults})})}),Object(h.jsx)(G.a,{item:!0,xs:12,md:4,lg:3,children:Object(h.jsx)(Z.a,{className:t,children:Object(h.jsx)(mt,{})})}),Object(h.jsx)(G.a,{item:!0,xs:12,children:Object(h.jsx)(Z.a,{className:e.paper,children:Object(h.jsx)(nt,{title:"Ultimas Tareas",headers:Ot,showActions:!1,rows:r.delivers})})})]})}var gt={getDelivers:"GET_DELIVERS",getAverageDeliverResults:"GET_AVERAGE_DELIVER_RESULTS"},yt={delivers:[],averageDeliverResults:[]};function vt(e,t){switch(t.type){case gt.getDelivers:return Object(d.a)(Object(d.a)({},e),{},{delivers:Object(ue.a)(t.payload.delivers)});case gt.getAverageDeliverResults:return Object(d.a)(Object(d.a)({},e),{},{averageDeliverResults:Object(ue.a)(t.payload.averageDeliverResults)});default:return e}}var Et=n(525),St=n(551),_t={setStudents:"SET_STUDENTS",setStudentsSelected:"SET_STUDENTS_SELECTED",searchStudentsAssignments:"SEARCH_STUDENTS_ASSIGNMENTS",getStudentsDelivers:"GET_STUDENTS_DELIVERS",showDelivers:"SHOW_DELIVERS"},Tt={students:[],studentsSelected:[],studentsDelivers:[],showDelivers:!1};function Ct(e,t){switch(t.type){case _t.setStudents:return Object(d.a)(Object(d.a)({},e),{},{students:Object(ue.a)(t.payload.students)});case _t.setStudentsSelected:return Object(d.a)(Object(d.a)({},e),{},{studentsSelected:Object(ue.a)(t.payload.studentsSelected)});case _t.getStudentsDelivers:return Object(d.a)(Object(d.a)({},e),{},{studentsDelivers:Object(ue.a)(t.payload.studentsDelivers)});case _t.showDelivers:return Object(d.a)(Object(d.a)({},e),{},{showDelivers:t.payload.showDelivers});default:return e}}var wt=["Alumno","Tarea","Fecha de envi\xf3"],Nt={PaperProps:{style:{maxHeight:224,width:250}}};var At=function(){var e=Ee(),t=Object(a.useReducer)(Ct,Tt),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(o.g)(),d=m().currentUser,u=function(e){return[e.deliver_assignment_id,{id:e.student.student_id,text:e.student.username,onClick:function(){return function(e){var t=e.deliver_assignment_id;s.push("/resumen-tarea/".concat(t))}(e)}},e.exercise.title,ut(e.arrive_at)]};return Object(a.useEffect)((function(){var e=d.uid;fetch("".concat("","/api/students?professor_id=").concat(e),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json()})).then((function(e){e&&r({type:_t.setStudents,payload:{students:Object(ue.a)(e)}})})).catch((function(e){return console.log(e)}))}),[d.uid]),Object(h.jsxs)(G.a,{container:!0,spacing:3,children:[Object(h.jsxs)($.a,{"aria-label":"breadcrumb",children:[Object(h.jsx)(i.b,{to:"/",children:"Inicio"}),Object(h.jsx)(N.a,{color:"textPrimary",children:"Alumnos"})]}),Object(h.jsx)(G.a,{item:!0,xs:12,children:Object(h.jsxs)(Z.a,{className:e.paper,children:[Object(h.jsx)(te,{children:"Alumnos"}),Object(h.jsx)(ge.a,{id:"demo-mutiple-checkbox-label",children:"Alumnos (Identificator)"}),Object(h.jsxs)("div",{className:e.studentForm,children:[Object(h.jsx)(bt.a,{labelId:"demo-mutiple-checkbox-label",id:"demo-mutiple-checkbox",multiple:!0,value:c.studentsSelected,onChange:function(e){r({type:_t.setStudentsSelected,payload:{studentsSelected:e.target.value}})},input:Object(h.jsx)(Et.a,{}),renderValue:function(e){return e.join(", ")},MenuProps:Nt,children:c.students.map((function(e){return Object(h.jsxs)(pt.a,{value:"".concat(e.username," (").concat(e.student_id,")"),children:[Object(h.jsx)(St.a,{checked:c.studentsSelected.indexOf("".concat(e.username," (").concat(e.student_id,")"))>-1}),Object(h.jsx)(L.a,{primary:"".concat(e.username," (").concat(e.student_id,")")})]},e.student_id)}))}),Object(h.jsx)(be.a,{variant:"contained",color:"primary",onClick:function(){var e=d.uid,t=c.studentsSelected.map((function(e){return Number(e.substring(e.indexOf("(")+1,e.length-1))}));fetch("".concat("","/api/deliver-assignments?professor_id=").concat(e),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json()})).then((function(e){if(r({type:_t.showDelivers,payload:{showDelivers:!0}}),e){if(!t||0===t.length)return r({type:_t.getStudentsDelivers,payload:{studentsDelivers:e.map(u)}});var n=e.filter((function(e){return t.includes(e.student.student_id)})).map(u);return r({type:_t.getStudentsDelivers,payload:{studentsDelivers:Object(ue.a)(n)}})}r({type:_t.setStudentsSelected,payload:{studentsSelected:[]}})})).catch((function(e){return console.log(e)}))},children:"Buscar"})]})]})}),c.showDelivers?Object(h.jsx)(G.a,{item:!0,xs:12,children:Object(h.jsx)(Z.a,{className:e.paper,children:Object(h.jsx)(nt,{title:"Tareas",headers:wt,rows:c.studentsDelivers,resource:"deliver-assignments",handleModify:function(){},handleDelete:function(){},showActions:!1})})}):null]})};var Dt=["Titulo","Descripci\xf3n","Cantidad de palabras en la lectura","Acciones"],Rt={openExercise:!1,exercise:{title:"",description:"",wordsAmount:0,exercise_id:null,exercise_image:""},exercises:[],action:"CREATE",imageSrc:""};function Gt(e,t){switch(t.type){case ct.openExerciseModal:return Object(d.a)(Object(d.a)({},e),{},{openExercise:t.payload.openExercise});case ct.setExercise:return Object(d.a)(Object(d.a)({},e),{},{exercise:Object(d.a)({},t.payload.exercise)});case ct.setTitle:return Object(d.a)(Object(d.a)({},e),{},{exercise:Object(d.a)(Object(d.a)({},e.exercise),{},{title:t.payload.title})});case ct.setDescription:return Object(d.a)(Object(d.a)({},e),{},{exercise:Object(d.a)(Object(d.a)({},e.exercise),{},{description:t.payload.description})});case ct.setWordsAmount:return Object(d.a)(Object(d.a)({},e),{},{exercise:Object(d.a)(Object(d.a)({},e.exercise),{},{wordsAmount:t.payload.wordsAmount})});case ct.setExerciseImage:return Object(d.a)(Object(d.a)({},e),{},{exercise:Object(d.a)(Object(d.a)({},e.exercise),{},{exercise_image:t.payload.exercise_image})});case ct.setImageSrc:return Object(d.a)(Object(d.a)({},e),{},{imageSrc:t.payload.imageSrc});case ct.setExercises:return Object(d.a)(Object(d.a)({},e),{},{exercises:Object(ue.a)(t.payload.exercises)});case ct.setAction:return Object(d.a)(Object(d.a)({},e),{},{action:t.payload.action});default:return e}}var It=function(){var e=Ee(),t=Object(a.useReducer)(Gt,Rt),n=Object(l.a)(t,2),c=n[0],r=n[1],s=m().currentUser;return Object(a.useEffect)((function(){var e=s.uid;fetch("".concat("","/api/exercises?professor_id=").concat(e),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json()})).then((function(e){r({type:ct.setExercises,payload:{exercises:Object(ue.a)(e)}})})).catch((function(e){return console.log(e)}))}),[s.uid]),Object(h.jsxs)(G.a,{container:!0,spacing:3,children:[Object(h.jsxs)($.a,{"aria-label":"breadcrumb",children:[Object(h.jsx)(i.b,{to:"/",children:"Inicio"}),Object(h.jsx)(N.a,{color:"textPrimary",children:"Ejercicios"})]}),Object(h.jsx)(G.a,{item:!0,xs:12,children:Object(h.jsxs)(Z.a,{className:e.paper,children:[Object(h.jsx)(te,{children:"Crear un nuevo ejercicio"}),Object(h.jsx)(Fe,{buttonTitle:"Crear",title:"Crear Ejercicio",open:c.openExercise,setOpen:function(){r({type:ct.openExerciseModal,payload:{openExercise:!c.openExercise}}),r({type:ct.setAction,payload:{action:"CREATE"}})},children:Object(h.jsx)(st,{exercise:c.exercise,handleCancel:function(e){r({type:ct.openExerciseModal,payload:{openExercise:!1}}),r({type:ct.setExercise,payload:{exercise:{title:"",description:"",wordsAmount:0}}})},handleSubmit:function(e,t){e.preventDefault();var n=null,a={title:c.exercise.title,description:c.exercise.description,words_amount:c.exercise.wordsAmount,professor_id:s.uid,exercise_image:c.exercise.exercise_image};if("CREATE"===t)n=fetch("".concat("","/api/exercises"),{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});else{if("MODIFY"!==t)return;n=fetch("".concat("","/api/exercises/").concat(c.exercise.exercise_id),{method:"PUT",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})}n.then((function(e){if(e.ok)return e.json()})).then((function(e){if("CREATE"===t&&r({type:ct.setExercises,payload:{exercises:[].concat(Object(ue.a)(c.exercises),[Object(d.a)(Object(d.a)({},a),{},{exercise_id:e.exercise.exercise_id})])}}),"MODIFY"===t){var n=c.exercises.filter((function(e){return e.exercise_id!==c.exercise.exercise_id}));r({type:ct.setExercises,payload:{exercises:[].concat(Object(ue.a)(n),[Object(d.a)(Object(d.a)({},a),{},{exercise_id:c.exercise.exercise_id})])}})}r({type:ct.openExerciseModal,payload:{openExercise:!1}}),r({type:ct.setExercise,payload:{exercise:{title:"",description:"",wordsAmount:0,exercise_id:null,exercise_image:""}}})})).catch((function(e){return console.log(e)}))},dispatch:r,editable:!0,action:c.action})})]})}),Object(h.jsx)(G.a,{item:!0,xs:12,children:Object(h.jsx)(Z.a,{className:e.paper,children:Object(h.jsx)(nt,{title:"Ejercicios",headers:Dt,rows:c.exercises.map((function(e){return[e.exercise_id,e.title,e.description,e.words_amount]})),resource:"exercises",handleModify:function(e){r({type:ct.setAction,payload:{action:"MODIFY"}}),r({type:ct.openExerciseModal,payload:{openExercise:!0}});var t=c.exercises.find((function(t){return t.exercise_id===e}));t&&r({type:ct.setExercise,payload:{exercise:Object(d.a)(Object(d.a)({},t),{},{wordsAmount:t.words_amount})}})},handleDelete:function(e){(function(e){var t=e.id,n=e.resourceType;return fetch("".concat("","/api/").concat(n,"/").concat(t),{method:"DELETE",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json()})).then((function(e){return Promise.resolve(!0)})).catch((function(e){return Promise.reject(!1)}))})({id:e,resourceType:"exercises"}).then((function(t){t&&r({type:ct.setExercises,payload:{exercises:c.exercises.filter((function(t){return t.exercise_id!==e}))}})}))},showActions:!0})})})]})},kt={setDeliver:"SET_DELIVER",setExerciseDetails:"SET_EXERCISE_DETAILS"};function Mt(e,t){switch(t.type){case kt.setDeliver:case kt.setExerciseDetails:return Object(d.a)(Object(d.a)({},e),t.payload);default:return e}}var Pt={student:"",assignment:"",arriveAt:"",totalWordsDetected:0,totalWordsInTheLecture:0,dueDate:"",exerciseId:"",description:"",audioURL:null,imageURL:null,speechToText:""};var Ft=function(){var e=Object(o.h)().deliverAssignmentId,t=Object(a.useReducer)(Mt,Pt),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Ee();return Object(a.useEffect)((function(){fetch("".concat("","/api/deliver-assignments/").concat(e),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json()})).then((function(e){if(e){var t=e[0];r({type:kt.setDeliver,payload:{student:"".concat(t.student.username,"(").concat(t.student.student_id,")"),assignment:"".concat(t.exercise.title),arriveAt:ut(t.arrive_at),totalWordsDetected:t.total_words_detected,dueDate:ut(t.assignment.due_date),exerciseId:t.exercise.exercise_id,audioURL:t.audio_URL,speechToText:t.speech_to_text}})}})).catch((function(e){return console.log(e)}))}),[e]),Object(a.useEffect)((function(){c.exerciseId&&fetch("".concat("","/api/exercises/").concat(c.exerciseId),{method:"GET",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"}}).then((function(e){if(e.ok)return e.json()})).then((function(e){if(e){var t=e[0];r({type:kt.setExerciseDetails,payload:{description:t.description,totalWordsInTheLecture:t.words_amount,imageURL:t.exercise_image}})}})).catch((function(e){return console.log(e)}))}),[c.exerciseId]),Object(h.jsxs)(G.a,{container:!0,spacing:3,children:[Object(h.jsxs)($.a,{"aria-label":"breadcrumb",children:[Object(h.jsx)(i.b,{to:"/",children:"Inicio"}),Object(h.jsx)(i.b,{to:"/alumnos",children:"Alumnos"}),Object(h.jsx)(N.a,{color:"textPrimary",children:"Resumen Tarea Recibida"})]}),Object(h.jsx)(G.a,{item:!0,xs:12,children:Object(h.jsxs)(Z.a,{className:s.paper,children:[Object(h.jsx)(te,{children:"Tarea Recibida"}),Object(h.jsxs)("div",{className:s.review,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)(ge.a,{id:"demo-mutiple-checkbox-label",children:"Alumno"}),Object(h.jsx)(pe.a,{value:c.student,readOnly:!0,className:s.textFullWidth})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(ge.a,{id:"demo-mutiple-checkbox-label",children:"Tarea"}),Object(h.jsx)(pe.a,{value:c.assignment,readOnly:!0,className:s.textFullWidth})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(ge.a,{id:"demo-mutiple-checkbox-label",children:"Fecha de entrega"}),Object(h.jsx)(pe.a,{value:c.arriveAt,readOnly:!0,className:s.textFullWidth})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(ge.a,{id:"demo-mutiple-checkbox-label",children:"Fecha limite de entrega"}),Object(h.jsx)(pe.a,{value:c.dueDate,readOnly:!0,className:s.textFullWidth})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(ge.a,{id:"demo-mutiple-checkbox-label",children:"Cantidad de palabras en el texto"}),Object(h.jsx)(pe.a,{value:c.totalWordsInTheLecture,readOnly:!0,className:s.textFullWidth})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(ge.a,{id:"demo-mutiple-checkbox-label",children:"Cantidad de palabras detectadas"}),Object(h.jsx)(pe.a,{value:c.totalWordsDetected,className:s.textFullWidth})]})]}),Object(h.jsx)(te,{children:"Description"}),Object(h.jsx)(at.a,{minRows:5,"aria-label":"empty textarea",placeholder:"Descripcion",readOnly:!0,value:c.description}),Object(h.jsxs)("div",{style:{marginTop:"1rem"},children:[Object(h.jsx)(te,{children:"Audio"}),Object(h.jsx)("audio",{src:c.audioURL,controls:!0})]}),Object(h.jsx)(te,{children:"Texto detectado"}),Object(h.jsx)(at.a,{minRows:5,"aria-label":"texto detectado",placeholder:"Texto",readOnly:!0,value:c.speechToText}),c.imageURL&&Object(h.jsxs)("div",{style:{marginTop:"1rem"},children:[Object(h.jsx)(te,{children:"Imagen"}),Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:c.imageURL,alt:c.imageURL,style:{maxWidth:"800px"}})})]})]})})]})};var Ut=function(){return Object(h.jsxs)(N.a,{variant:"body2",color:"textSecondary",align:"center",children:["Calificaci\xf3n de estudiantes","  ",(new Date).getFullYear(),"."]})},Lt=n(290),zt=n(560),Bt=n(285),Wt=n.n(Bt);var Yt=function(){var e=Object(o.g)(),t=a.useState(null),n=Object(l.a)(t,2),c=n[0],r=n[1],s=m().logout,i=Boolean(c),d=function(){r(null)};return Object(h.jsxs)(a.Fragment,{children:[Object(h.jsx)(_.a,{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:Object(h.jsx)(zt.a,{title:"Account settings",children:Object(h.jsx)(D.a,{onClick:function(e){r(e.currentTarget)},size:"small",sx:{ml:2},children:Object(h.jsx)(Ce.a,{sx:{width:32,height:32},children:"M"})})})}),Object(h.jsxs)(Lt.a,{anchorEl:c,open:i,onClose:d,onClick:d,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(h.jsxs)(pt.a,{onClick:function(){return e.push("/update-profile")},children:[Object(h.jsx)(Ce.a,{})," Mi Cuenta"]}),Object(h.jsx)(A.a,{}),Object(h.jsxs)(pt.a,{onClick:function(){return s()},children:[Object(h.jsx)(U.a,{children:Object(h.jsx)(Wt.a,{fontSize:"small"})}),"Logout"]})]})]})};function Vt(){return Math.floor(1e6*Math.random())+1}var Jt=function(){var e=Ee(),t=Object(a.useState)(!0),n=Object(l.a)(t,2),c=n[0],r=n[1],s=m().currentUser;return s.uid,Object(a.useEffect)((function(){(function(){var e=Object(y.a)(g.a.mark((function e(){var t,n,a,c,r,i,o,d,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.uid,e.next=3,fetch("".concat("","/api/professors/").concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:if("Professor not found!"!==(null===(a=e.sent)||void 0===a?void 0:a.message)){e.next=25;break}return c={professor_id:s.uid,username:s.displayName,name:s.displayName,email:s.email},e.next=11,fetch("".concat("","/api/professors"),{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 11:return r=e.sent,e.next=14,r.json();case 14:return i=e.sent,o=Vt(),d={professor_id:i.professor.professor_id,name:"mi grupo",token:o},e.next=19,fetch("".concat("","/api/groups"),{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)});case 19:return l=e.sent,e.next=22,l.json();case 22:if(!e.sent){e.next=25;break}return e.abrupt("return",{message:"Professor created successfully"});case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[s.uid,s.displayName,s.email]),Object(h.jsxs)("div",{className:e.root,children:[Object(h.jsx)(E.a,{}),Object(h.jsx)(T.a,{position:"absolute",className:Object(v.a)(e.appBar,c&&e.appBarShift),children:Object(h.jsxs)(C.a,{className:e.toolbar,children:[Object(h.jsx)(D.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){r(!0)},className:Object(v.a)(e.menuButton,c&&e.menuButtonHidden),children:Object(h.jsx)(k.a,{})}),Object(h.jsx)(N.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"Calificaciones de los estudiantes"}),Object(h.jsx)(Yt,{})]})}),Object(h.jsxs)(S.a,{variant:"permanent",classes:{paper:Object(v.a)(e.drawerPaper,!c&&e.drawerPaperClose)},open:c,children:[Object(h.jsx)("div",{className:e.toolbarIcon,children:Object(h.jsx)(D.a,{onClick:function(){r(!1)},children:Object(h.jsx)(P.a,{})})}),Object(h.jsx)(A.a,{}),Object(h.jsx)(w.a,{children:K}),Object(h.jsx)(A.a,{}),Object(h.jsx)(w.a,{children:Q})]}),Object(h.jsxs)("main",{className:e.content,children:[Object(h.jsx)("div",{className:e.appBarSpacer}),Object(h.jsxs)(R.a,{maxWidth:"lg",className:e.container,children:[Object(h.jsxs)(o.d,{children:[Object(h.jsx)(o.b,{path:"/alumnos",children:Object(h.jsx)(G.a,{container:!0,spacing:3,children:Object(h.jsx)(At,{})})}),Object(h.jsx)(o.b,{path:"/ejercicios",children:Object(h.jsx)(G.a,{container:!0,spacing:3,children:Object(h.jsx)(It,{})})}),Object(h.jsx)(o.b,{path:"/tareas",children:Object(h.jsx)(jt,{})}),Object(h.jsx)(o.b,{exact:!0,path:"/",children:Object(h.jsx)(G.a,{container:!0,spacing:3,children:Object(h.jsx)(ft,{})})}),Object(h.jsx)(o.b,{exact:!0,path:"/resumen-tarea/:deliverAssignmentId",children:Object(h.jsx)(G.a,{container:!0,spacing:3,children:Object(h.jsx)(Ft,{})})})]}),Object(h.jsx)(_.a,{pt:4,children:Object(h.jsx)(Ut,{})})]})]})]})},Xt=n(292),qt=["component"];function Ht(e){var t=e.component,n=Object(Xt.a)(e,qt),a=m().currentUser;return Object(h.jsx)(o.b,Object(d.a)(Object(d.a)({},n),{},{render:function(e){return a?Object(h.jsx)(t,Object(d.a)({},e)):Object(h.jsx)(o.a,{to:"/login"})}}))}var Kt=n(543),Qt=n(546),Zt=n(544),$t=n(545);function en(){var e=Object(a.useRef)(),t=Object(a.useRef)(),n=m(),c=n.login,r=n.currentUser,s=Object(a.useState)(""),d=Object(l.a)(s,2),u=d[0],j=d[1],p=Object(a.useState)(!1),b=Object(l.a)(p,2),x=b[0],O=b[1],f=Object(o.g)(),v=Ee(),E=function(){var n=Object(y.a)(g.a.mark((function n(a){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.prev=1,j(""),O(!0),n.next=6,c(e.current.value,t.current.value);case 6:f.push("/"),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),j("Fallo el inicio de sesi\xf3n, por favor revisa que tu correo y contrase\xf1a sean correctos.");case 12:O(!1);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}();return Object(a.useEffect)((function(){r&&f.push("/")}),[r]),Object(h.jsx)("div",{className:v.authContainer,children:Object(h.jsxs)(Kt.a,{className:v.authRoot,variant:"outlined",children:[Object(h.jsxs)(Zt.a,{children:[Object(h.jsx)(te,{children:"Inicial Sesi\xf3n"}),u&&Object(h.jsx)("span",{className:v.failureText,children:u}),Object(h.jsxs)("form",{onSubmit:E,children:[Object(h.jsx)(fe.a,{className:v.formGroup,children:Object(h.jsx)(pe.a,{id:"email",label:"Correo Electr\xf3nico",type:"email",inputRef:e,required:!0})}),Object(h.jsx)(fe.a,{className:v.formGroup,children:Object(h.jsx)(pe.a,{id:"password",label:"contrase\xf1a",type:"password",inputRef:t,required:!0})}),Object(h.jsx)("div",{style:{paddingTop:"1rem"},children:Object(h.jsx)(be.a,{variant:"contained",size:"large",color:"primary",type:"submit",children:"Iniciar sesi\xf3n"})}),x&&Object(h.jsxs)("div",{className:v.loadingContainer,children:[" ",Object(h.jsx)($t.a,{})]})]})]}),Object(h.jsx)(Qt.a,{children:Object(h.jsx)(i.b,{to:"/forgot-password",children:"Olvidaste tu contrase\xf1a?"})}),Object(h.jsxs)(Qt.a,{children:["Necesitas una cuenta? ",Object(h.jsx)(i.b,{to:"/signup",children:"Registrarte"})]})]})})}function tn(){var e=Object(a.useRef)(),t=Object(a.useRef)(),n=Object(a.useRef)(),c=m(),r=c.signup,s=c.currentUser,d=Object(a.useState)(""),u=Object(l.a)(d,2),j=u[0],p=u[1],b=Object(a.useState)(!1),x=Object(l.a)(b,2),O=x[0],f=x[1],v=Object(o.g)(),E=Ee(),S=function(){var e=Object(y.a)(g.a.mark((function e(){var t,n,a,c,r,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.uid){e.next=18;break}return t={professor_id:s.uid,username:s.displayName,name:s.displayName,email:s.email},e.next=4,fetch("".concat("","/api/professors"),{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return n=e.sent,e.next=7,n.json();case 7:return a=e.sent,c=Vt(),r={professor_id:a.professor.professor_id,name:"mi grupo",token:c},e.next=12,fetch("".concat("","/api/groups"),{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 12:return i=e.sent,e.next=15,i.json();case 15:if(!e.sent){e.next=18;break}return e.abrupt("return",{message:"Professor created successfully"});case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var a=Object(y.a)(g.a.mark((function a(c){return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),t.current.value===n.current.value){a.next=3;break}return a.abrupt("return",p("Las contrase\xf1as no coinciden."));case 3:return a.prev=3,p(""),f(!0),a.next=8,r(e.current.value,t.current.value);case 8:return a.next=10,S();case 10:a.sent.message.includes("Professor created successfully")&&v.push("/"),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(3),p("Fallo el registro de tu cuenta, por favor revisa que tu correo esta correcto.");case 17:f(!1);case 18:case"end":return a.stop()}}),a,null,[[3,14]])})));return function(e){return a.apply(this,arguments)}}();return Object(a.useEffect)((function(){s&&v.push("/")}),[s]),Object(h.jsx)("div",{className:E.authContainer,children:Object(h.jsxs)(Kt.a,{className:E.authRoot,variant:"outlined",children:[Object(h.jsxs)(Zt.a,{children:[Object(h.jsx)(te,{children:"Registar"}),j&&Object(h.jsx)("span",{className:E.failureText,children:j}),Object(h.jsxs)("form",{onSubmit:_,children:[Object(h.jsx)(fe.a,{className:E.formGroup,children:Object(h.jsx)(pe.a,{id:"email",label:"Correo Electr\xf3nico",type:"email",inputRef:e,required:!0})}),Object(h.jsx)(fe.a,{className:E.formGroup,children:Object(h.jsx)(pe.a,{id:"password",label:"contrase\xf1a",type:"password",inputRef:t,required:!0})}),Object(h.jsx)(fe.a,{className:E.formGroup,children:Object(h.jsx)(pe.a,{id:"password",label:"Confirmar contrase\xf1a",type:"password",inputRef:n,required:!0})}),Object(h.jsx)("div",{style:{paddingTop:"1rem"},children:Object(h.jsx)(be.a,{variant:"contained",size:"large",color:"primary",type:"submit",children:"Registrar"})}),O&&Object(h.jsxs)("div",{className:E.loadingContainer,children:[" ",Object(h.jsx)($t.a,{})]})]})]}),Object(h.jsxs)(Qt.a,{children:["Ya cuentas con una cuenta? ",Object(h.jsx)(i.b,{to:"/login",children:"Iniciar sesi\xf3n"})]})]})})}function nn(){var e=Object(a.useRef)(),t=m().resetPassword,n=Object(a.useState)(""),c=Object(l.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(""),d=Object(l.a)(o,2),u=d[0],j=d[1],p=Object(a.useState)(!1),b=Object(l.a)(p,2),x=b[0],O=b[1],f=Ee(),v=function(){var n=Object(y.a)(g.a.mark((function n(a){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.prev=1,j(""),s(""),O(!0),n.next=7,t(e.current.value);case 7:j("Por favor revisa tu correo electr\xf3nico para actualizar tu contrase\xf1a."),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),s("fallo restablecer tu contrase\xf1a, vuelve a intentar");case 13:O(!1);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}();return Object(h.jsx)("div",{className:f.authContainer,children:Object(h.jsxs)(Kt.a,{className:f.authRoot,variant:"outlined",children:[Object(h.jsxs)(Zt.a,{children:[Object(h.jsx)(te,{children:"Restablecer contrase\xf1a"}),r&&Object(h.jsx)("span",{className:f.failureText,children:r}),u&&Object(h.jsx)("span",{className:f.sucessText,children:u}),Object(h.jsxs)("form",{onSubmit:v,children:[Object(h.jsx)(fe.a,{className:f.formGroup,children:Object(h.jsx)(pe.a,{id:"email",label:"Correo Electr\xf3nico",type:"email",inputRef:e,required:!0})}),Object(h.jsx)("div",{style:{paddingTop:"1rem"},children:Object(h.jsx)(be.a,{variant:"contained",size:"large",color:"primary",type:"submit",children:"Restablecer contrase\xf1a"})}),x&&Object(h.jsxs)("div",{className:f.loadingContainer,children:[" ",Object(h.jsx)($t.a,{})]})]})]}),Object(h.jsxs)(Qt.a,{children:["Ya cuentas con una cuenta? ",Object(h.jsx)(i.b,{to:"/login",children:"Iniciar sesi\xf3n"})]})]})})}function an(){var e=Object(a.useRef)(),t=Object(a.useRef)(),n=Object(a.useRef)(),c=Object(a.useRef)(),r=m(),s=r.updateMyPassword,d=r.updateEmailAddress,u=r.currentUser,j=r.updateMyProfile,p=Object(a.useState)(""),b=Object(l.a)(p,2),x=b[0],O=b[1],f=Object(a.useState)(!1),g=Object(l.a)(f,2),y=g[0],v=g[1],E=Object(o.g)(),S=Ee();return Object(h.jsx)("div",{className:S.authContainer,children:Object(h.jsxs)(Kt.a,{className:S.authRoot,variant:"outlined",children:[Object(h.jsxs)(Zt.a,{children:[Object(h.jsx)(te,{children:"Actualizar perfil"}),x&&Object(h.jsx)("span",{className:S.failureText,children:x}),Object(h.jsxs)("form",{onSubmit:function(a){if(a.preventDefault(),n.current.value!==c.current.value)return O("Las contrase\xf1as no coinciden");var r=[];e.current.value!==u.email&&r.push(d(e.current.value)),t.current.value&&t.current.value!==u.displayName&&r.push(j({displayName:t.current.value})),n.current.value&&r.push(s(n.current.value)),O(""),v(!0),Promise.all(r).then((function(){E.push("/")})).catch((function(e){O("Fallo actualizar tu perfile, por favor intentalo m\xe1s tarde."),console.log(e)})).finally((function(){v(!1)}))},children:[Object(h.jsx)(fe.a,{className:S.formGroup,children:Object(h.jsx)(pe.a,{id:"name",label:"Nombre",type:"text",inputRef:t,defaultValue:(null===u||void 0===u?void 0:u.displayName)&&u.displayName})}),Object(h.jsx)(fe.a,{className:S.formGroup,children:Object(h.jsx)(pe.a,{id:"email",label:"Correo Electr\xf3nico",type:"email",inputRef:e,required:!0,defaultValue:(null===u||void 0===u?void 0:u.email)&&u.email})}),Object(h.jsx)(fe.a,{className:S.formGroup,children:Object(h.jsx)(pe.a,{id:"password",label:"contrase\xf1a",type:"password",inputRef:n})}),Object(h.jsx)(fe.a,{className:S.formGroup,children:Object(h.jsx)(pe.a,{id:"password",label:"Confirmar contrase\xf1a",type:"password",inputRef:c})}),Object(h.jsx)("div",{style:{paddingTop:"1rem"},children:Object(h.jsx)(be.a,{variant:"contained",size:"large",color:"primary",type:"submit",children:"Actualizar"})}),y&&Object(h.jsxs)("div",{className:S.loadingContainer,children:[" ",Object(h.jsx)($t.a,{})]})]})]}),Object(h.jsx)(Qt.a,{children:Object(h.jsx)(i.b,{to:"/",children:"Cancelar"})})]})})}n(466);var cn=function(){return Object(h.jsx)(i.a,{children:Object(h.jsx)(O,{children:Object(h.jsxs)(o.d,{children:[Object(h.jsx)(o.b,{path:"/signup",component:tn}),Object(h.jsx)(o.b,{path:"/login",component:en}),Object(h.jsx)(o.b,{path:"/forgot-password",component:nn}),Object(h.jsx)(o.b,{path:"/update-profile",component:an}),Object(h.jsx)(Ht,{path:"/",component:Jt})]})})})},rn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,561)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(h.jsx)(cn,{}),document.getElementById("root")),rn()}},[[467,1,2]]]);
//# sourceMappingURL=main.ef0500a6.chunk.js.map